"use strict";(self.webpackChunkmantis_material_react=self.webpackChunkmantis_material_react||[]).push([[2795],{52795:(e,t,n)=>{n.r(t),n.d(t,{default:()=>X,fuzzyFilter:()=>J});var i=n(9950),a=n(28429),o=n(14857),r=n(16491),s=n(69019),l=n(84142),c=n(25277),d=n(93230),h=n(18216),u=n(1320),g=n(15769),p=n(69780),x=n(9213),m=n(68605),A=n(34075),j=n(74745),v=n(82053),y=n(53065),w=n(60899),f=n(32778),b=n(16304),C=n(86569),S=n(65313),k=n(44967),I=n(46007),P=n(86263),R=n(1587),z=n(81757),D=n(26762),T=n(44414);const M=e=>{let{color:t,title:n,count:i,percentage:a,isLoss:o,children:s,invoice:l}=e;return(0,T.jsxs)(w.Ay,{container:!0,direction:"row",spacing:2,children:[(0,T.jsx)(w.Ay,{item:!0,md:5,children:(0,T.jsxs)(d.A,{direction:"column",spacing:2,children:[(0,T.jsx)(v.A,{variant:"subtitle1",children:n}),(0,T.jsxs)(d.A,{direction:"column",spacing:1,children:[(0,T.jsx)(v.A,{variant:"h4",color:"inherit",children:i}),(0,T.jsxs)(d.A,{direction:"row",spacing:1,children:[(0,T.jsx)(v.A,{variant:"subtitle1",children:l}),(0,T.jsx)(v.A,{color:"secondary",children:"invoices"})]})]})]})}),(0,T.jsx)(w.Ay,{item:!0,md:7,children:(0,T.jsx)(r.A,{children:(0,T.jsxs)(d.A,{direction:"column",alignItems:"flex-end",justifyContent:"space-evenly",children:[a&&(0,T.jsxs)(d.A,{sx:{ml:1.25,pl:1},direction:"row",alignItems:"center",spacing:1,children:[!o&&(0,T.jsx)(z.A,{style:{fontSize:"0.75rem",color:`${t}`}}),o&&(0,T.jsx)(D.A,{style:{fontSize:"0.75rem",color:`${t}`}}),(0,T.jsxs)(v.A,{color:"secondary",children:[a,"%"]})]}),s]})})})]})};var $=n(39452),F=n(16243),L=n(91103);const O=e=>{let{color:t,data:n}=e;const a=(0,o.A)(),{mode:r}=(0,L.A)(),s={chart:{id:"new-stack-chart",height:100,type:"area",toolbar:{show:!1},sparkline:{enabled:!0}},fill:{type:"gradient",gradient:{shadeIntensity:1,type:"vertical",inverseColors:!1,opacityFrom:.5,opacityTo:0}},plotOptions:{bar:{borderRadius:0}},dataLabels:{enabled:!1},xaxis:{axisBorder:{show:!1},axisTicks:{show:!1},labels:{show:!1},tooltip:{enabled:!1}},stroke:{width:1,curve:"smooth"},grid:{show:!1},yaxis:{axisBorder:{show:!1},axisTicks:{show:!1},labels:{show:!1}},tooltip:{x:{show:!1},y:{formatter:e=>`$ ${e}`}}},{primary:l,secondary:c}=a.palette.text,d=a.palette.divider,[h,u]=(0,i.useState)(s);(0,i.useEffect)((()=>{u((e=>({...e,colors:[t.main],tooltip:{theme:r===F.lG.DARK?"dark":"light"}})))}),[r,l,c,d,a,t]);const[g]=(0,i.useState)([{name:"Sales",data:n}]);return(0,T.jsx)($.A,{options:h,series:g,type:"area",height:80})};var H=n(53443),K=n(35346),N=n(69067),B=n(65733),U=n(91807),V=n(41394),_=n(8750),E=n(12678),G=n(24513),W=n(44070),Z=n(92049),Q=n(82278);const q=n(40630),J=(e,t,n,i)=>{const a=(0,C.IL)(e.getValue(t),n);return i(a),a.passed};function Y(e){let{data:t,columns:n}=e;const o=(0,a.Zp)(),v=["All",...new Set(t.map((e=>e.status)))],y=t.map((e=>e.status)).reduce(((e,t)=>({...e,[t]:(e[t]||0)+1})),{}),[w,C]=(0,i.useState)(v[0]),[I,P]=(0,i.useState)([{id:"customer_name",desc:!1}]),[R,z]=(0,i.useState)([]),[D,M]=(0,i.useState)({}),[$,F]=(0,i.useState)(""),L=(0,f.N4)({data:t,columns:n,state:{columnFilters:R,sorting:I,rowSelection:D,globalFilter:$},enableRowSelection:!0,onSortingChange:P,onRowSelectionChange:M,onGlobalFilterChange:F,onColumnFiltersChange:z,getRowCanExpand:()=>!0,getSortedRowModel:(0,b.h5)(),getFilteredRowModel:(0,b.hM)(),getCoreRowModel:(0,b.HT)(),getPaginationRowModel:(0,b.kW)(),globalFilterFn:J,debugTable:!0});let O=[];return n.map((e=>e.accessorKey&&O.push({label:"string"===typeof e.header?e.header:"#",key:e.accessorKey}))),(0,i.useEffect)((()=>{z("All"===w?[]:[{id:"status",value:w}])}),[w]),(0,T.jsxs)(k.A,{content:!1,children:[(0,T.jsx)(r.A,{sx:{p:2.5,pb:0,width:"100%"},children:(0,T.jsx)(s.A,{value:w,onChange:(e,t)=>C(t),sx:{borderBottom:1,borderColor:"divider"},children:v.map(((e,n)=>(0,T.jsx)(l.A,{label:e,value:e,icon:(0,T.jsx)(c.A,{label:"All"===e?t.length:"Paid"===e?y.Paid:"Unpaid"===e?y.Unpaid:y.Cancelled,color:"All"===e?"primary":"Paid"===e?"success":"Unpaid"===e?"warning":"error",variant:"light",size:"small"}),iconPosition:"end"},n)))})}),(0,T.jsxs)(d.A,{direction:"row",spacing:2,alignItems:"center",justifyContent:"space-between",sx:{padding:2.5},children:[(0,T.jsx)(V.iF,{value:null!==$&&void 0!==$?$:"",onFilterChange:e=>F(String(e)),placeholder:`Search ${t.length} records...`}),(0,T.jsxs)(d.A,{direction:"row",alignItems:"center",spacing:2,children:[(0,T.jsx)(V.b7,{getState:L.getState,getAllColumns:L.getAllColumns,setSorting:P}),(0,T.jsx)(h.A,{variant:"contained",startIcon:(0,T.jsx)(_.A,{}),onClick:e=>{e.stopPropagation(),o("/apps/invoice/create")},children:"Add Invoice"}),(0,T.jsx)(V.pK,{data:L.getSelectedRowModel().flatRows.map((e=>e.original)),headers:O,filename:"customer-list.csv"})]})]}),(0,T.jsx)(S.A,{children:(0,T.jsxs)(d.A,{children:[(0,T.jsx)(V.BR,{selected:Object.keys(D).length}),(0,T.jsx)(u.A,{children:(0,T.jsxs)(g.A,{children:[(0,T.jsx)(p.A,{children:L.getHeaderGroups().map((e=>(0,T.jsx)(x.A,{children:e.headers.map((e=>(void 0!==e.column.columnDef.meta&&e.column.getCanSort()&&Object.assign(e.column.columnDef.meta,{className:e.column.columnDef.meta.className+" cursor-pointer prevent-select"}),(0,T.jsx)(m.A,{...e.column.columnDef.meta,onClick:e.column.getToggleSortingHandler(),...e.column.getCanSort()&&void 0===e.column.columnDef.meta&&{className:"cursor-pointer prevent-select"},children:e.isPlaceholder?null:(0,T.jsxs)(d.A,{direction:"row",spacing:1,alignItems:"center",children:[(0,T.jsx)(r.A,{children:(0,f.Kv)(e.column.columnDef.header,e.getContext())}),e.column.getCanSort()&&(0,T.jsx)(V.gT,{column:e.column})]})},e.id))))},e.id)))}),(0,T.jsx)(A.A,{children:L.getRowModel().rows.map((e=>(0,T.jsx)(x.A,{children:e.getVisibleCells().map((e=>(0,T.jsx)(m.A,{...e.column.columnDef.meta,children:(0,f.Kv)(e.column.columnDef.cell,e.getContext())},e.id)))},e.id)))})]})}),(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(j.A,{}),(0,T.jsx)(r.A,{sx:{p:2},children:(0,T.jsx)(V.xN,{setPageSize:L.setPageSize,setPageIndex:L.setPageIndex,getState:L.getState,getPageCount:L.getPageCount})})]})]})})]})}const X=()=>{const e=(0,o.A)(),t=(0,a.Zp)(),{invoiceLoading:n,invoice:s}=(0,B.hl)(),{invoiceMaster:l}=(0,B.Be)(),h=[{title:"Paid",count:"$7,825",percentage:70.5,isLoss:!1,invoice:"9",color:e.palette.success,chartData:[200,600,100,400,300,400,50]},{title:"Unpaid",count:"$1,880",percentage:27.4,isLoss:!0,invoice:"6",color:e.palette.warning,chartData:[100,550,300,350,200,100,300]},{title:"Overdue",count:"$3,507",percentage:27.4,isLoss:!0,invoice:"4",color:e.palette.error,chartData:[100,550,200,300,100,200,300]}],[u,g]=(0,i.useState)(0),[p,x]=(0,i.useState)(0),m=(0,i.useMemo)((()=>[{id:"select",header:e=>{let{table:t}=e;return(0,T.jsx)(V.Z8,{checked:t.getIsAllRowsSelected(),indeterminate:t.getIsSomeRowsSelected(),onChange:t.getToggleAllRowsSelectedHandler()})},cell:e=>{let{row:t}=e;return(0,T.jsx)(V.Z8,{checked:t.getIsSelected(),disabled:!t.getCanSelect(),indeterminate:t.getIsSomeSelected(),onChange:t.getToggleSelectedHandler()})}},{header:"Invoice Id",accessorKey:"id",meta:{className:"cell-center"}},{header:"User Info",accessorKey:"customer_name",cell:e=>{let{row:t,getValue:n}=e;return(0,T.jsxs)(d.A,{direction:"row",spacing:1.5,alignItems:"center",children:[(0,T.jsx)(I.A,{alt:"Avatar 1",size:"sm",src:q(`./avatar-${t.original.avatar?t.original.avatar:1}.png`)}),(0,T.jsxs)(d.A,{spacing:0,children:[(0,T.jsx)(v.A,{variant:"subtitle1",children:n()}),(0,T.jsx)(v.A,{color:"text.secondary",children:t.original.email})]})]})}},{header:"Create Date",accessorKey:"date"},{header:"Due Date",accessorKey:"due_date"},{header:"Quantity",accessorKey:"quantity"},{header:"Status",accessorKey:"status",cell:e=>{switch(e.getValue()){case"Cancelled":return(0,T.jsx)(c.A,{color:"error",label:"Cancelled",size:"small",variant:"light"});case"Paid":return(0,T.jsx)(c.A,{color:"success",label:"Paid",size:"small",variant:"light"});default:return(0,T.jsx)(c.A,{color:"info",label:"Unpaid",size:"small",variant:"light"})}}},{header:"Actions",meta:{className:"cell-center"},disableSortBy:!0,cell:e=>{let{row:n}=e;return(0,T.jsxs)(d.A,{direction:"row",alignItems:"center",justifyContent:"center",spacing:0,children:[(0,T.jsx)(y.A,{title:"View",children:(0,T.jsx)(P.A,{color:"secondary",onClick:e=>{e.stopPropagation(),t(`/apps/invoice/details/${n.original.id}`)},children:(0,T.jsx)(E.A,{})})}),(0,T.jsx)(y.A,{title:"Edit",children:(0,T.jsx)(P.A,{color:"primary",onClick:e=>{e.stopPropagation(),t(`/apps/invoice/edit/${n.original.id}`)},children:(0,T.jsx)(G.A,{})})}),(0,T.jsx)(y.A,{title:"Delete",children:(0,T.jsx)(P.A,{color:"error",onClick:e=>{e.stopPropagation(),g(n.original.id),x(n.original.invoice_id),(0,B.QH)(!0)},children:(0,T.jsx)(W.A,{})})})]})}}]),[e]);let A=[{title:"Home",to:F.qm},{title:"Invoice",to:"/apps/invoice/dashboard"},{title:"List"}];return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(R.A,{custom:!0,heading:"Invoice List",links:A}),(0,T.jsxs)(w.Ay,{container:!0,spacing:2,children:[(0,T.jsx)(w.Ay,{item:!0,md:8,children:(0,T.jsx)(w.Ay,{container:!0,direction:"row",spacing:2,children:h.map(((e,t)=>(0,T.jsx)(w.Ay,{item:!0,sm:4,xs:12,children:(0,T.jsx)(k.A,{children:(0,T.jsx)(M,{title:e.title,count:e.count,percentage:e.percentage,isLoss:e.isLoss,invoice:e.invoice,color:e.color.main,children:(0,T.jsx)(O,{color:e.color,data:e.chartData})})})},t)))})}),(0,T.jsx)(w.Ay,{item:!0,md:4,sm:12,xs:12,children:(0,T.jsxs)(r.A,{sx:{background:`linear-gradient(to right, ${e.palette.primary.dark}, ${e.palette.primary.main})`,borderRadius:1,p:1.75},children:[(0,T.jsxs)(d.A,{direction:"row",alignItems:"flex-end",justifyContent:"space-between",spacing:1,children:[(0,T.jsxs)(d.A,{direction:"row",spacing:1,alignItems:"center",children:[(0,T.jsx)(I.A,{alt:"Natacha",variant:"rounded",type:"filled",children:(0,T.jsx)(Z.A,{style:{fontSize:"20px"}})}),(0,T.jsxs)(r.A,{children:[(0,T.jsxs)(d.A,{direction:"row",spacing:1,alignItems:"center",children:[(0,T.jsx)(v.A,{variant:"body1",color:"white",children:"Total Recievables"}),(0,T.jsx)(Q.A,{style:{color:e.palette.background.paper}})]}),(0,T.jsxs)(d.A,{direction:"row",spacing:1,children:[(0,T.jsx)(v.A,{variant:"body2",color:"white",children:"Current"}),(0,T.jsx)(v.A,{variant:"body1",color:"white",children:"109.1k"})]})]})]}),(0,T.jsxs)(d.A,{direction:"row",spacing:1,children:[(0,T.jsx)(v.A,{variant:"body2",color:"white",children:"Overdue"}),(0,T.jsx)(v.A,{variant:"body1",color:"white",children:"62k"})]})]}),(0,T.jsx)(v.A,{variant:"h4",color:"white",sx:{pt:2,pb:1,zIndex:1},children:"$43,078"}),(0,T.jsx)(r.A,{sx:{maxWidth:"100%","& .MuiTypography-root":{color:"white"}},children:(0,T.jsx)(H.A,{value:90,color:"warning"})})]})}),(0,T.jsxs)(w.Ay,{item:!0,xs:12,children:[n?(0,T.jsx)(K.default,{}):(0,T.jsx)(Y,{data:s,columns:m}),(0,T.jsx)(N.A,{title:p.toString(),open:!!l&&l.alertPopup,handleClose:e=>{e&&((0,B.r$)(u),(0,U.aN)({open:!0,message:"Column deleted successfully",anchorOrigin:{vertical:"top",horizontal:"right"},variant:"alert",alert:{color:"success"}})),(0,B.QH)(!1)}})]})]})]})}},65733:(e,t,n)=>{n.d(t,{Be:()=>g,Dq:()=>h,Nm:()=>A,PZ:()=>m,QH:()=>j,hl:()=>c,lz:()=>d,m$:()=>p,r$:()=>u,tv:()=>x});var i=n(69572),a=n(9950),o=n(97108);const r=[{code:"US",label:"United States Dollar",currency:"Dollar",prefix:"$"},{code:"GB",label:"United Kingdom Pound",currency:"Pound",prefix:"\xa3"},{code:"IN",label:"India Rupee",currency:"Rupee",prefix:"\u20b9"},{code:"JP",label:"Japan Yun",currency:"Yun",prefix:"\xa5"}],s={isOpen:!1,isCustomerOpen:!1,open:!1,country:r[0],countries:r,alertPopup:!1},l={key:"api/invoice",actions:"actions",list:"/list",insert:"/insert",update:"/update",delete:"/delete"};function c(){const{data:e,isLoading:t,error:n,isValidating:r}=(0,i.Ay)(l.key+l.list,o.GO,{revalidateIfStale:!1,revalidateOnFocus:!1,revalidateOnReconnect:!1});return(0,a.useMemo)((()=>{var i;return{invoice:null===e||void 0===e?void 0:e.invoice,invoiceLoading:t,invoiceError:n,invoiceValidating:r,invoiceEmpty:!t&&!(null!==e&&void 0!==e&&null!==(i=e.invoice)&&void 0!==i&&i.length)}}),[e,n,t,r])}async function d(e){(0,i.Tk)(l.key+l.list,(t=>{e.id=t.invoice.length+1;const n=[...t.invoice,e];return{...t,invoice:n}}),!1)}async function h(e,t){(0,i.Tk)(l.key+l.list,(n=>{const i=n.invoice.map((n=>n.id===e?{...n,...t}:n));return{...n,invoice:i}}),!1)}async function u(e){(0,i.Tk)(l.key+l.list,(t=>{const n=t.invoice.filter((t=>t.id!==e));return{...t,invoice:n}}),!1)}function g(){const{data:e,isLoading:t}=(0,i.Ay)(l.key+l.actions,(()=>s),{revalidateIfStale:!1,revalidateOnFocus:!1,revalidateOnReconnect:!1});return(0,a.useMemo)((()=>({invoiceMaster:e,invoiceMasterLoading:t})),[e,t])}function p(e){(0,i.Tk)(l.key+l.actions,(t=>({...t,isCustomerOpen:e})),!1)}function x(e){(0,i.Tk)(l.key+l.actions,(t=>({...t,open:e})),!1)}function m(e){(0,i.Tk)(l.key+l.actions,(t=>({...t,country:e})),!1)}function A(e){(0,i.Tk)(l.key+l.actions,(t=>({...t,isOpen:e})),!1)}function j(e){(0,i.Tk)(l.key+l.actions,(t=>({...t,alertPopup:e})),!1)}},69067:(e,t,n)=>{n.d(t,{A:()=>u});var i=n(96583),a=n(28170),o=n(93230),r=n(82053),s=n(18216),l=n(46007),c=n(37476),d=n(36256),h=n(44414);function u(e){let{title:t,open:n,handleClose:u}=e;return(0,h.jsx)(i.A,{open:n,onClose:()=>u(!1),keepMounted:!0,maxWidth:"xs",TransitionComponent:c.s,"aria-labelledby":"column-delete-title","aria-describedby":"column-delete-description",children:(0,h.jsx)(a.A,{sx:{mt:2,my:1},children:(0,h.jsxs)(o.A,{alignItems:"center",spacing:3.5,children:[(0,h.jsx)(l.A,{color:"error",sx:{width:72,height:72,fontSize:"1.75rem"},children:(0,h.jsx)(d.A,{})}),(0,h.jsxs)(o.A,{spacing:2,children:[(0,h.jsx)(r.A,{variant:"h4",align:"center",children:"Are you sure you want to delete?"}),(0,h.jsxs)(r.A,{align:"center",children:["By deleting",(0,h.jsxs)(r.A,{variant:"subtitle1",component:"span",children:[" ",'"',t,'"'," "]}),"column, all task inside that column will also be deleted."]})]}),(0,h.jsxs)(o.A,{direction:"row",spacing:2,sx:{width:1},children:[(0,h.jsx)(s.A,{fullWidth:!0,onClick:()=>u(!1),color:"secondary",variant:"outlined",children:"Cancel"}),(0,h.jsx)(s.A,{fullWidth:!0,color:"error",variant:"contained",onClick:()=>u(!0),autoFocus:!0,children:"Delete"})]})]})})})}},92049:(e,t,n)=>{n.d(t,{A:()=>l});var i=n(58168),a=n(9950);const o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M688 312v-48c0-4.4-3.6-8-8-8H296c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h384c4.4 0 8-3.6 8-8zm-392 88c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h184c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H296zm376 116c-119.3 0-216 96.7-216 216s96.7 216 216 216 216-96.7 216-216-96.7-216-216-216zm107.5 323.5C750.8 868.2 712.6 884 672 884s-78.8-15.8-107.5-44.5C535.8 810.8 520 772.6 520 732s15.8-78.8 44.5-107.5C593.2 595.8 631.4 580 672 580s78.8 15.8 107.5 44.5C808.2 653.2 824 691.4 824 732s-15.8 78.8-44.5 107.5zM761 656h-44.3c-2.6 0-5 1.2-6.5 3.3l-63.5 87.8-23.1-31.9a7.92 7.92 0 00-6.5-3.3H573c-6.5 0-10.3 7.4-6.5 12.7l73.8 102.1c3.2 4.4 9.7 4.4 12.9 0l114.2-158c3.9-5.3.1-12.7-6.4-12.7zM440 852H208V148h560v344c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V108c0-17.7-14.3-32-32-32H168c-17.7 0-32 14.3-32 32v784c0 17.7 14.3 32 32 32h272c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8z"}}]},name:"file-done",theme:"outlined"};var r=n(40683),s=function(e,t){return a.createElement(r.A,(0,i.A)({},e,{ref:t,icon:o}))};const l=a.forwardRef(s)}}]);