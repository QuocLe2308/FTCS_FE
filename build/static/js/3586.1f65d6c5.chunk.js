"use strict";(self.webpackChunkmantis_material_react=self.webpackChunkmantis_material_react||[]).push([[3586],{1808:(e,i,l)=>{l.d(i,{Ah:()=>d,Bz:()=>c,Fs:()=>x,VD:()=>u,_N:()=>o,dk:()=>h});var n=l(69572),r=l(9950),t=l(97108),s=l(81032);const a={key:"/api/schedule",list:"/all",insert:"/create",update:"/update",delete:"/delete",getByAccountId:"/listSchedule",tripAgreement:"/api/trip-agreement"};function o(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;const l=`${s.J}${a.key}${a.list}?page=${e}&size=${i}`,{data:o,isLoading:c,error:d,isValidating:h}=(0,n.Ay)(l,t.GO,{revalidateIfStale:!1,revalidateOnFocus:!1,revalidateOnReconnect:!1}),x=()=>(0,n.Tk)(l);return(0,r.useMemo)((()=>{var e,i,l,n,r;return{schedules:(null===o||void 0===o||null===(e=o.data)||void 0===e?void 0:e.content)||[],totalPages:null===o||void 0===o||null===(i=o.data)||void 0===i?void 0:i.totalPages,totalElements:null===o||void 0===o||null===(l=o.data)||void 0===l?void 0:l.totalElements,currentPage:null===o||void 0===o||null===(n=o.data)||void 0===n?void 0:n.number,schedulesLoading:c,schedulesError:d,schedulesValidating:h,schedulesEmpty:!c&&(!(null!==o&&void 0!==o&&null!==(r=o.data)&&void 0!==r&&r.content)||0===o.data.content.length),refetch:x}}),[o,d,c,h])}function c(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;const o=e?`${s.J}${a.key}${a.getByAccountId}/${e}?page=${i}&size=${l}`:null,{data:c,isLoading:d,error:h,isValidating:x}=(0,n.Ay)(o,t.GO,{revalidateIfStale:!1,revalidateOnFocus:!1,revalidateOnReconnect:!1}),u=()=>(0,n.Tk)(o);return(0,r.useMemo)((()=>{var e,i,l,n,r;return{schedules:(null===c||void 0===c||null===(e=c.data)||void 0===e?void 0:e.content)||[],totalPages:null===c||void 0===c||null===(i=c.data)||void 0===i?void 0:i.totalPages,totalElements:null===c||void 0===c||null===(l=c.data)||void 0===l?void 0:l.totalElements,currentPage:null===c||void 0===c||null===(n=c.data)||void 0===n?void 0:n.number,schedulesLoading:d,schedulesError:h,schedulesValidating:x,schedulesEmpty:!d&&(!(null!==c&&void 0!==c&&null!==(r=c.data)&&void 0!==r&&r.content)||0===c.data.content.length),refetch:u}}),[c,h,d,x])}function d(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;const o=e?`${s.J}${a.tripAgreement}/${e}?page=${i}&size=${l}`:null,{data:c,isLoading:d,error:h,isValidating:x}=(0,n.Ay)(o,t.GO,{revalidateIfStale:!1,revalidateOnFocus:!1,revalidateOnReconnect:!1}),u=()=>(0,n.Tk)(o);return(0,r.useMemo)((()=>{var e,i,l,n,r;return{tripAgreements:(null===c||void 0===c||null===(e=c.data)||void 0===e?void 0:e.content)||[],totalPages:null===c||void 0===c||null===(i=c.data)||void 0===i?void 0:i.totalPages,totalElements:null===c||void 0===c||null===(l=c.data)||void 0===l?void 0:l.totalElements,currentPage:null===c||void 0===c||null===(n=c.data)||void 0===n?void 0:n.number,tripAgreementsLoading:d,tripAgreementsError:h,tripAgreementsValidating:x,tripAgreementsEmpty:!d&&(!(null!==c&&void 0!==c&&null!==(r=c.data)&&void 0!==r&&r.content)||0===c.data.content.length),refetch:u}}),[c,h,d,x])}async function h(e){(0,n.Tk)(a.key+a.list,(i=>{const l={scheduleId:Math.max(...i.data.map((e=>e.scheduleId)))+1||1,...e};return{...i,data:[...i.data,l]}}),!1)}async function x(e,i){(0,n.Tk)(a.key+a.list,(l=>{const n=l.data.map((l=>l.scheduleId===e?{...l,...i}:l));return{...l,data:n}}),!1)}async function u(e){(0,n.Tk)(a.key+a.list,(i=>{const l=i.data.filter((i=>i.scheduleId!==e));return{...i,data:l}}),!1)}},2886:(e,i,l)=>{l.d(i,{A:()=>o});var n=l(58168),r=l(9950);const t={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-792 72h752v120H136V232zm752 560H136V440h752v352zm-237-64h165c4.4 0 8-3.6 8-8v-72c0-4.4-3.6-8-8-8H651c-4.4 0-8 3.6-8 8v72c0 4.4 3.6 8 8 8z"}}]},name:"credit-card",theme:"outlined"};var s=l(40683),a=function(e,i){return r.createElement(s.A,(0,n.A)({},e,{ref:i,icon:t}))};const o=r.forwardRef(a)},73586:(e,i,l)=>{l.r(i),l.d(i,{default:()=>ui,fuzzyFilter:()=>di});var n=l(9950),r=l(14857),t=l(97497),s=l(46589),a=l(93230),o=l(1320),c=l(15769),d=l(69780),h=l(9213),x=l(68605),u=l(16491),v=l(34075),m=l(74745),j=l(82053),A=l(96583),g=l(40033),p=l(28170),y=l(79739),b=l(18216),f=l(25277),I=l(53065),C=l(32778),S=l(16304),w=l(86569),k=l(65313),E=l(44967),N=l(46007),V=l(86263),D=l(35346),M=l(41394),T=l(29120),z=l(60899),F=l(29277),P=l(8145),L=l(19647),H=l(58567),R=l(16497),B=l(77966),O=l(25979),W=l(70006),K=l(2660),$=l(23266),G=l(83563),J=l(24516),Y=l(6266),_=l(37324),q=l(81831),Q=l(34102),U=l(41397),X=l.n(U),Z=l(29714),ee=l(45818),ie=l(37476),le=l(69572),ne=l(97108),re=l(81032);const te={key:"/api/driver",registerDriver:"/api/registerDriver",identification:"identification",status:"/status",license:"license",vehicle:"vehicle"};function se(){const{data:e,isLoading:i,error:l,isValidating:r}=(0,le.Ay)(re.J+te.key,ne.GO,{revalidateIfStale:!1,revalidateOnFocus:!1,revalidateOnReconnect:!1}),t=()=>(0,le.Tk)(re.J+te.key);return(0,n.useMemo)((()=>({drivers:null===e||void 0===e?void 0:e.data,driversLoading:i,driversError:l,driversValidating:r,driversEmpty:!i&&!(null!==e&&void 0!==e&&e.length),refetch:t})),[e,l,i,r,t])}var ae=l(91807),oe=l(36256),ce=l(44414);function de(e){let{id:i,open:l,handleClose:n}=e;return(0,ce.jsx)(A.A,{open:l,onClose:n,keepMounted:!0,TransitionComponent:ie.s,maxWidth:"xs","aria-labelledby":"column-delete-title","aria-describedby":"column-delete-description",children:(0,ce.jsx)(p.A,{sx:{mt:2,my:1},children:(0,ce.jsxs)(a.A,{alignItems:"center",spacing:3.5,children:[(0,ce.jsx)(N.A,{color:"error",sx:{width:72,height:72,fontSize:"1.75rem"},children:(0,ce.jsx)(oe.A,{})}),(0,ce.jsxs)(a.A,{spacing:2,children:[(0,ce.jsx)(j.A,{variant:"h4",align:"center",children:"B\u1ea1n c\xf3 ch\u1eafc mu\u1ed1n x\xf3a t\xe0i x\u1ebf n\xe0y?"}),(0,ce.jsx)(j.A,{align:"center",children:"B\u1ea1n s\u1ebd kh\xf4ng th\u1ec3 kh\xf4i ph\u1ee5c l\u1ea1i t\xe0i x\u1ebf n\xe0y sau khi x\xf3a"})]}),(0,ce.jsxs)(a.A,{direction:"row",spacing:2,sx:{width:1},children:[(0,ce.jsx)(b.A,{fullWidth:!0,onClick:n,color:"secondary",variant:"outlined",children:"H\u1ee7y b\u1ecf"}),(0,ce.jsx)(b.A,{fullWidth:!0,color:"error",variant:"contained",onClick:async()=>{await async function(e){(0,le.Tk)(te.key+te.list,(i=>{const l=i.customers.filter((i=>i.id!==e));return{...i,customers:l}}),!1)}(i).then((()=>{(0,ae.aN)({open:!0,message:"X\xf3a t\xe0i x\u1ebf th\xe0nh c\xf4ng",anchorOrigin:{vertical:"top",horizontal:"right"},variant:"alert",alert:{color:"success"}}),n()}))},autoFocus:!0,children:"X\xf3a"})]})]})})})}var he=l(65182),xe=l(16243),ue=l(40308),ve=l(30723),me=l(94118);const je=l(40630),Ae=["Adobe XD","After Effect","Angular","Animation","ASP.Net","Bootstrap","C#","CC","Corel Draw","CSS","DIV","Dreamweaver","Figma","Graphics","HTML","Illustrator","J2Ee","Java","Javascript","JQuery","Logo Design","Material UI","Motion","MVC","MySQL","NodeJS","npm","Photoshop","PHP","React","Redux","Reduxjs & tooltit","SASS","SCSS","SQL Server","SVG","UI/UX","User Interface Designing","Wordpress"],ge=e=>{const i={fullName:"",name:"",phone:"",email:"",age:18,avatar:1,gender:ue.Y.FEMALE,role:"",fatherName:"",orders:0,progress:50,status:2,orderStatus:"",contact:"",country:"",location:"",about:"",skills:[],time:["just now"],date:""};return e?X().merge({},i,e):i},pe=[{value:3,label:"Rejected"},{value:1,label:"Verified"},{value:2,label:"Pending"}],ye=e=>{let{driver:i,closeModal:l}=e;const t=(0,r.A)(),[s,o]=(0,n.useState)(!0),[c,d]=(0,n.useState)(void 0),[h,x]=(0,n.useState)(je(`./avatar-${i&&null!==i&&null!==i&&void 0!==i&&i.avatar?i.avatar:1}.png`));(0,n.useEffect)((()=>{c&&x(URL.createObjectURL(c))}),[c]),(0,n.useEffect)((()=>{o(!1)}),[]);const v=Z.Ik().shape({fullName:Z.Yj().max(255).required("Full Name is required"),email:Z.Yj().max(255).required("Email is required").email("Must be a valid email"),status:Z.Yj().required("Status is required"),location:Z.Yj().max(500),about:Z.Yj().max(500)}),[A,C]=(0,n.useState)(!1),S=(0,ee.Wx)({initialValues:ge(i),validationSchema:v,enableReinitialize:!0,onSubmit:async(e,n)=>{let{setSubmitting:r}=n;try{let n=e;n.name=n.firstName+" "+n.lastName,i?async function(e,i){(0,le.Tk)(te.key+te.list,(l=>{const n=l.customers.map((l=>l.id===e?{...l,...i}:l));return{...l,customers:n}}),!1)}(n.id,n).then((()=>{(0,ae.aN)({open:!0,message:"Driver update successfully.",variant:"alert",alert:{color:"success"}}),r(!1),l()})):await async function(e){(0,le.Tk)(te.key+te.list,(i=>{e.id=i.customers.length+1;const l=[...i.customers,e];return{...i,customers:l}}),!1)}(n).then((()=>{(0,ae.aN)({open:!0,message:"Driver added successfully.",variant:"alert",alert:{color:"success"}}),r(!1),l()}))}catch(t){console.error(t)}}}),{errors:w,touched:k,handleSubmit:E,isSubmitting:D,getFieldProps:M,setFieldValue:T}=S;return s?(0,ce.jsx)(u.A,{sx:{p:5},children:(0,ce.jsx)(a.A,{direction:"row",justifyContent:"center",children:(0,ce.jsx)(he.A,{})})}):(0,ce.jsxs)(ce.Fragment,{children:[(0,ce.jsx)(ee.QI,{value:S,children:(0,ce.jsx)(q.$,{dateAdapter:Q.h,children:(0,ce.jsxs)(ee.lV,{autoComplete:"off",noValidate:!0,onSubmit:E,children:[(0,ce.jsx)(g.A,{children:i?"Ch\u1ec9nh s\u1eeda":"T\u1ea1o t\xe0i x\u1ebf"}),(0,ce.jsx)(m.A,{}),(0,ce.jsx)(p.A,{sx:{p:2.5},children:(0,ce.jsxs)(z.Ay,{container:!0,spacing:3,children:[(0,ce.jsx)(z.Ay,{item:!0,xs:12,md:3,children:(0,ce.jsxs)(a.A,{direction:"row",justifyContent:"center",sx:{mt:3},children:[(0,ce.jsxs)(F.A,{htmlFor:"change-avtar",sx:{position:"relative",borderRadius:"50%",overflow:"hidden","&:hover .MuiBox-root":{opacity:1},cursor:"pointer"},children:[(0,ce.jsx)(N.A,{alt:"Avatar 1",src:h,sx:{width:72,height:72,border:"1px dashed"}}),(0,ce.jsx)(u.A,{sx:{position:"absolute",top:0,left:0,backgroundColor:t.palette.mode===xe.lG.DARK?"rgba(255, 255, 255, .75)":"rgba(0,0,0,.65)",width:"100%",height:"100%",opacity:0,display:"flex",alignItems:"center",justifyContent:"center"},children:(0,ce.jsxs)(a.A,{spacing:.5,alignItems:"center",children:[(0,ce.jsx)(ve.A,{style:{color:t.palette.secondary.lighter,fontSize:"2rem"}}),(0,ce.jsx)(j.A,{sx:{color:"secondary.lighter"},children:"Upload"})]})})]}),(0,ce.jsx)(P.A,{type:"file",id:"change-avtar",placeholder:"Outlined",variant:"outlined",sx:{display:"none"},onChange:e=>{var i;return d(null===(i=e.target.files)||void 0===i?void 0:i[0])}})]})}),(0,ce.jsx)(z.Ay,{item:!0,xs:12,md:8,children:(0,ce.jsxs)(z.Ay,{container:!0,spacing:3,children:[(0,ce.jsx)(z.Ay,{item:!0,xs:12,sm:6,children:(0,ce.jsxs)(a.A,{spacing:1,children:[(0,ce.jsx)(L.A,{htmlFor:"driver-fullName",children:"H\u1ecd v\xe0 t\xean"}),(0,ce.jsx)(P.A,{fullWidth:!0,id:"driver-fullName",placeholder:"Enter Full Name",...M("driverIdentity.driverFullName"),error:Boolean(k.fullName&&w.fullName),helperText:k.fullName&&w.fullName})]})}),(0,ce.jsx)(z.Ay,{item:!0,xs:12,sm:6,children:(0,ce.jsxs)(a.A,{spacing:1,children:[(0,ce.jsx)(L.A,{htmlFor:"driver-phone",children:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i"}),(0,ce.jsx)(P.A,{fullWidth:!0,id:"driver-phone",placeholder:"Enter Phone",...M("phone"),error:Boolean(k.phone&&w.phone),helperText:k.phone&&w.phone})]})}),(0,ce.jsx)(z.Ay,{item:!0,xs:9,children:(0,ce.jsxs)(a.A,{spacing:1,children:[(0,ce.jsx)(L.A,{htmlFor:"driver-email",children:"Email"}),(0,ce.jsx)(P.A,{fullWidth:!0,id:"driver-email",placeholder:"Enter driver Email",...M("email"),error:Boolean(k.email&&w.email),helperText:k.email&&w.email})]})}),(0,ce.jsx)(z.Ay,{item:!0,xs:3,children:(0,ce.jsxs)(a.A,{spacing:1,children:[(0,ce.jsx)(L.A,{htmlFor:"driver-age",children:"Tu\u1ed5i"}),(0,ce.jsx)(P.A,{type:"number",fullWidth:!0,id:"driver-age",placeholder:"Enter Age",...M("age"),error:Boolean(k.age&&w.age),helperText:k.age&&w.age})]})}),(0,ce.jsx)(z.Ay,{item:!0,xs:12,sm:6,children:(0,ce.jsxs)(a.A,{spacing:1,children:[(0,ce.jsx)(L.A,{htmlFor:"driver-fatherName",children:"T\xean cha"}),(0,ce.jsx)(P.A,{fullWidth:!0,id:"driver-fatherName",placeholder:"Enter Father Name",...M("fatherName"),error:Boolean(k.fatherName&&w.fatherName),helperText:k.fatherName&&w.fatherName})]})}),(0,ce.jsx)(z.Ay,{item:!0,xs:12,sm:6,children:(0,ce.jsxs)(a.A,{spacing:1,children:[(0,ce.jsx)(L.A,{htmlFor:"driver-role",children:"V\u1ecb tr\xed"}),(0,ce.jsx)(P.A,{fullWidth:!0,id:"driver-role",placeholder:"Enter Role",...M("role"),error:Boolean(k.role&&w.role),helperText:k.role&&w.role})]})}),(0,ce.jsx)(z.Ay,{item:!0,xs:12,sm:6,children:(0,ce.jsxs)(a.A,{spacing:1,children:[(0,ce.jsx)(L.A,{htmlFor:"driver-gender",children:"Gi\u1edbi t\xednh"}),(0,ce.jsxs)(H.A,{row:!0,"aria-label":"payment-card",...M("gender"),children:[(0,ce.jsx)(R.A,{control:(0,ce.jsx)(B.A,{value:ue.Y.FEMALE}),label:ue.Y.FEMALE}),(0,ce.jsx)(R.A,{control:(0,ce.jsx)(B.A,{value:ue.Y.MALE}),label:ue.Y.MALE})]})]})}),(0,ce.jsx)(z.Ay,{item:!0,xs:12,children:(0,ce.jsxs)(a.A,{spacing:1,children:[(0,ce.jsx)(L.A,{htmlFor:"driver-status",children:"Tr\u1ea1ng th\xe1i"}),(0,ce.jsx)(O.A,{fullWidth:!0,children:(0,ce.jsx)(W.A,{id:"column-hiding",displayEmpty:!0,...M("status"),onChange:e=>T("status",e.target.value),input:(0,ce.jsx)(K.A,{id:"select-column-hiding",placeholder:"Sort by"}),renderValue:e=>{if(!e)return(0,ce.jsx)(j.A,{variant:"subtitle1",children:"Select Status"});const i=pe.filter((i=>i.value===Number(e)));return(0,ce.jsx)(j.A,{variant:"subtitle2",children:i.length>0?i[0].label:"Pending"})},children:pe.map((e=>(0,ce.jsx)($.A,{value:e.value,children:(0,ce.jsx)(G.A,{primary:e.label})},e.value)))})}),k.status&&w.status&&(0,ce.jsx)(J.A,{error:!0,id:"standard-weight-helper-text-email-login",sx:{pl:1.75},children:w.status})]})}),(0,ce.jsx)(z.Ay,{item:!0,xs:12,sm:6,children:(0,ce.jsxs)(a.A,{spacing:1,children:[(0,ce.jsx)(L.A,{htmlFor:"driver-contact",children:"Li\xean h\u1ec7"}),(0,ce.jsx)(P.A,{fullWidth:!0,id:"driver-contact",placeholder:"Enter Contact",...M("contact"),error:Boolean(k.contact&&w.contact),helperText:k.contact&&w.contact})]})}),(0,ce.jsx)(z.Ay,{item:!0,xs:12,sm:6,children:(0,ce.jsxs)(a.A,{spacing:1,children:[(0,ce.jsx)(L.A,{htmlFor:"driver-country",children:"Qu\u1ed1c gia"}),(0,ce.jsx)(P.A,{fullWidth:!0,id:"driver-country",placeholder:"Enter Country",...M("country"),error:Boolean(k.country&&w.country),helperText:k.country&&w.country})]})}),(0,ce.jsx)(z.Ay,{item:!0,xs:12,children:(0,ce.jsxs)(a.A,{spacing:1,children:[(0,ce.jsx)(L.A,{htmlFor:"driver-location",children:"\u0110\u1ecba ch\u1ec9"}),(0,ce.jsx)(P.A,{fullWidth:!0,id:"driver-location",multiline:!0,rows:2,placeholder:"Enter Location",...M("location"),error:Boolean(k.location&&w.location),helperText:k.location&&w.location})]})}),(0,ce.jsx)(z.Ay,{item:!0,xs:12,children:(0,ce.jsxs)(a.A,{spacing:1,children:[(0,ce.jsx)(L.A,{htmlFor:"driver-about",children:"Gi\u1edbi thi\u1ec7u t\xe0i x\u1ebf"}),(0,ce.jsx)(P.A,{fullWidth:!0,id:"driver-about",multiline:!0,rows:2,placeholder:"Enter driver Information",...M("about"),error:Boolean(k.about&&w.about),helperText:k.about&&w.about})]})}),(0,ce.jsx)(z.Ay,{item:!0,xs:12,children:(0,ce.jsxs)(a.A,{spacing:1,children:[(0,ce.jsx)(L.A,{htmlFor:"driver-skills",children:"K\u0129 n\u0103ng"}),(0,ce.jsx)(Y.A,{multiple:!0,fullWidth:!0,id:"driver-skills",options:Ae,...M("skills"),getOptionLabel:e=>e,onChange:(e,i)=>{T("skills",i)},renderInput:e=>(0,ce.jsx)(P.A,{...e,name:"skill",placeholder:"Add Skills"}),renderTags:(e,i)=>e.map(((e,l)=>(0,ce.jsx)(f.A,{...i({index:l}),variant:"combined",label:e,deleteIcon:(0,ce.jsx)(me.A,{style:{fontSize:"0.75rem"}}),sx:{color:"text.primary"}},l)))})]})}),(0,ce.jsxs)(z.Ay,{item:!0,xs:12,children:[(0,ce.jsxs)(a.A,{direction:"row",justifyContent:"space-between",alignItems:"flex-start",children:[(0,ce.jsxs)(a.A,{spacing:.5,children:[(0,ce.jsx)(j.A,{variant:"subtitle1",children:"Make Contact Info Public"}),(0,ce.jsx)(j.A,{variant:"caption",color:"textSecondary",children:"Means that anyone viewing your profile will be able to see your contacts details"})]}),(0,ce.jsx)(R.A,{control:(0,ce.jsx)(_.A,{defaultChecked:!0,sx:{mt:0}}),label:"",labelPlacement:"start"})]}),(0,ce.jsx)(m.A,{sx:{my:2}}),(0,ce.jsxs)(a.A,{direction:"row",justifyContent:"space-between",alignItems:"flex-start",children:[(0,ce.jsxs)(a.A,{spacing:.5,children:[(0,ce.jsx)(j.A,{variant:"subtitle1",children:"Available to hire"}),(0,ce.jsx)(j.A,{variant:"caption",color:"textSecondary",children:"Toggling this will let your teammates know that you are available for acquiring new projects"})]}),(0,ce.jsx)(R.A,{control:(0,ce.jsx)(_.A,{sx:{mt:0}}),label:"",labelPlacement:"start"})]})]})]})})]})}),(0,ce.jsx)(m.A,{}),(0,ce.jsx)(y.A,{sx:{p:2.5},children:(0,ce.jsxs)(z.Ay,{container:!0,justifyContent:"space-between",alignItems:"center",children:[(0,ce.jsx)(z.Ay,{item:!0,children:i&&(0,ce.jsx)(I.A,{title:"Delete driver",placement:"top",children:(0,ce.jsx)(V.A,{onClick:()=>C(!0),size:"large",color:"error",children:(0,ce.jsx)(oe.A,{})})})}),(0,ce.jsx)(z.Ay,{item:!0,children:(0,ce.jsxs)(a.A,{direction:"row",spacing:2,alignItems:"center",children:[(0,ce.jsx)(b.A,{color:"error",onClick:l,children:"H\u1ee7y"}),(0,ce.jsx)(b.A,{type:"submit",variant:"contained",disabled:D,children:i?"Ch\u1ec9nh s\u1eeda":"Th\xeam"})]})})]})})]})})}),i&&(0,ce.jsx)(de,{id:i.id,title:i.name,open:A,handleClose:()=>{C(!A),l()}})]})};var be=l(41492);const fe=e=>{let{open:i,modalToggler:l,driver:r}=e;const{driversLoading:t}=se(),s=()=>l(!1),o=(0,n.useMemo)((()=>!t&&(0,ce.jsx)(ye,{driver:r||null,closeModal:s})),[r,t]);return(0,ce.jsx)(ce.Fragment,{children:i&&(0,ce.jsx)(T.A,{open:i,onClose:s,"aria-labelledby":"modal-driver-add-label","aria-describedby":"modal-driver-add-description",sx:{"& .MuiPaper-root:focus":{outline:"none"}},children:(0,ce.jsx)(E.A,{sx:{width:"calc(100% - 48px)",minWidth:340,maxWidth:880,height:"auto",maxHeight:"calc(100vh - 48px)"},modal:!0,content:!1,children:(0,ce.jsx)(be.A,{sx:{maxHeight:"calc(100vh - 48px)","& .simplebar-content":{display:"flex",flexDirection:"column"}},children:t?(0,ce.jsx)(u.A,{sx:{p:5},children:(0,ce.jsx)(a.A,{direction:"row",justifyContent:"center",children:(0,ce.jsx)(he.A,{})})}):o})})})})};var Ie=l(2235),Ce=l(65471);const Se=(0,Ce.A)((0,ce.jsx)("path",{d:"M18.92 5.01C18.72 4.42 18.16 4 17.5 4h-11c-.66 0-1.21.42-1.42 1.01L3 11v8c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-1h12v1c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-8zM6.5 15c-.83 0-1.5-.67-1.5-1.5S5.67 12 6.5 12s1.5.67 1.5 1.5S7.33 15 6.5 15m11 0c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5M5 10l1.5-4.5h11L19 10z"}),"DriveEta"),we=(0,Ce.A)((0,ce.jsx)("path",{d:"M20 7h-5V4c0-1.1-.9-2-2-2h-2c-1.1 0-2 .9-2 2v3H4c-1.1 0-2 .9-2 2v11c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V9c0-1.1-.9-2-2-2M9 12c.83 0 1.5.67 1.5 1.5S9.83 15 9 15s-1.5-.67-1.5-1.5S8.17 12 9 12m3 6H6v-.75c0-1 2-1.5 3-1.5s3 .5 3 1.5zm1-9h-2V4h2zm5 7.5h-4V15h4zm0-3h-4V12h4z"}),"Badge"),ke=(0,Ce.A)((0,ce.jsx)("path",{d:"M20 3h-1V1h-2v2H7V1H5v2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m0 18H4V8h16z"}),"CalendarToday"),Ee=(0,Ce.A)((0,ce.jsx)("path",{d:"M15 11V5l-3-3-3 3v2H3v14h18V11zm-8 8H5v-2h2zm0-4H5v-2h2zm0-4H5V9h2zm6 8h-2v-2h2zm0-4h-2v-2h2zm0-4h-2V9h2zm0-4h-2V5h2zm6 12h-2v-2h2zm0-4h-2v-2h2z"}),"LocationCity"),Ne=(0,Ce.A)((0,ce.jsx)("path",{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check"),Ve=(0,Ce.A)((0,ce.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),De=(0,Ce.A)((0,ce.jsx)("path",{d:"M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2M8.5 13.5l2.5 3.01L14.5 12l4.5 6H5z"}),"Photo"),Me=e=>{var i,l,r,t,s,a,o,c,d,h,x,v,A,g;let{open:p,modalToggler:y,driver:I,licenseId:C,refetchDrivers:S}=e;const w=()=>y(!1),k=(null===I||void 0===I||null===(i=I.license)||void 0===i?void 0:i.licenseNumber)&&(null===I||void 0===I||null===(l=I.license)||void 0===l?void 0:l.licenseType)&&(null===I||void 0===I||null===(r=I.license)||void 0===r?void 0:r.licenseIssuedDate)&&(null===I||void 0===I||null===(t=I.license)||void 0===t?void 0:t.licenseExpiryDate)&&(null===I||void 0===I||null===(s=I.license)||void 0===s?void 0:s.licenseFrontView)&&(null===I||void 0===I||null===(a=I.license)||void 0===a?void 0:a.licenseBackView),N=e=>{C?async function(e,i){if(!e)return void console.error("License ID is undefined");const l={status:i};try{const i=await(0,ne.lm)([re.J+te.registerDriver+"/"+te.license+te.status+"/"+e,l]);return(0,le.Tk)(te.key),console.log("License status updated successfully:",i),i}catch(n){console.error("Error updating license status:",n)}}(C,e).then((()=>{(0,ae.aN)({open:!0,message:`Status updated successfully: ${e}`,variant:"alert",alert:{color:"APPROVED"===e?"success":"error"},anchorOrigin:{vertical:"top",horizontal:"right"},transition:"SlideLeft"}),S(),w()})).catch((()=>{alert("An error occurred. Please try again!")})):alert("No valid license ID.")},V=e=>{let{icon:i,label:l,value:r}=e;return(0,ce.jsxs)(u.A,{sx:{display:"flex",alignItems:"center",mb:2},children:[n.cloneElement(i,{sx:{color:"primary.main"}}),(0,ce.jsxs)(u.A,{sx:{ml:2},children:[(0,ce.jsx)(j.A,{variant:"caption",color:"text.secondary",children:l}),(0,ce.jsx)(j.A,{variant:"body1",children:r||"N/A"})]})]})},D=e=>{let{url:i,title:l}=e;return(0,ce.jsxs)(u.A,{sx:{height:"100%"},children:[(0,ce.jsxs)(j.A,{variant:"subtitle2",color:"text.secondary",sx:{mb:1},children:[(0,ce.jsx)(De,{sx:{mr:1,verticalAlign:"bottom",fontSize:"1rem"}}),l]}),(0,ce.jsxs)(Ie.A,{elevation:2,sx:{height:200,overflow:"hidden",position:"relative","&:hover":{"& .overlay":{opacity:1}}},children:[(0,ce.jsx)(u.A,{component:"img",src:i,alt:l,sx:{width:"100%",height:"100%",objectFit:"cover",display:"block"}}),(0,ce.jsx)(u.A,{className:"overlay",sx:{position:"absolute",top:0,left:0,right:0,bottom:0,bgcolor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",opacity:0,transition:"opacity 0.3s"},children:(0,ce.jsx)(b.A,{variant:"contained",color:"primary",size:"small",onClick:()=>window.open(i,"_blank"),children:"View Full Size"})})]})]})};return(0,ce.jsx)(T.A,{open:p,onClose:w,"aria-labelledby":"modal-driver-license",sx:{display:"flex",alignItems:"center",justifyContent:"center"},children:(0,ce.jsx)(E.A,{sx:{width:"calc(100% - 48px)",minWidth:340,maxWidth:880,maxHeight:"calc(100vh - 48px)",m:2},modal:!0,content:!1,children:(0,ce.jsx)(be.A,{sx:{maxHeight:"calc(100vh - 48px)","& .simplebar-content":{height:"100%"}},children:(0,ce.jsxs)(u.A,{sx:{p:3},children:[(0,ce.jsxs)(u.A,{sx:{mb:3,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,ce.jsxs)(j.A,{variant:"h4",children:[(0,ce.jsx)(Se,{sx:{mr:1,verticalAlign:"bottom"}}),"Chi ti\u1ebft b\u1eb1ng l\xe1y"]}),(null===I||void 0===I||null===(o=I.license)||void 0===o?void 0:o.isVerified)&&(0,ce.jsx)(f.A,{icon:(0,ce.jsx)(Ne,{fontSize:"small"}),label:"Verified",color:"success",variant:"outlined",size:"small"})]}),k?(0,ce.jsxs)(ce.Fragment,{children:[(0,ce.jsx)(Ie.A,{elevation:0,sx:{p:3,mb:3,bgcolor:"grey.50"},children:(0,ce.jsxs)(z.Ay,{container:!0,spacing:3,children:[(0,ce.jsxs)(z.Ay,{item:!0,xs:12,md:6,children:[(0,ce.jsx)(V,{icon:(0,ce.jsx)(we,{}),label:"S\u1ed1 b\u1eb1ng l\xe1i",value:null===I||void 0===I||null===(c=I.license)||void 0===c?void 0:c.licenseNumber}),(0,ce.jsx)(V,{icon:(0,ce.jsx)(Se,{}),label:"Lo\u1ea1i b\u1eb1ng l\xe1i",value:null===I||void 0===I||null===(d=I.license)||void 0===d?void 0:d.licenseType})]}),(0,ce.jsxs)(z.Ay,{item:!0,xs:12,md:6,children:[(0,ce.jsx)(V,{icon:(0,ce.jsx)(ke,{}),label:"Ng\xe0y c\u1ea5p",value:null===I||void 0===I||null===(h=I.license)||void 0===h?void 0:h.licenseIssuedDate}),(0,ce.jsx)(V,{icon:(0,ce.jsx)(ke,{}),label:"Ng\xe0y h\u1ebft h\u1ea1n",value:null===I||void 0===I||null===(x=I.license)||void 0===x?void 0:x.licenseExpiryDate}),(0,ce.jsx)(V,{icon:(0,ce.jsx)(Ee,{}),label:"C\u01a1 quan ban h\xe0nh",value:null===I||void 0===I||null===(v=I.license)||void 0===v?void 0:v.issuingAuthority})]})]})}),(0,ce.jsx)(j.A,{variant:"h5",sx:{mb:2},children:"H\xecnh \u1ea3nh"}),(0,ce.jsxs)(z.Ay,{container:!0,spacing:3,sx:{mb:3},children:[(0,ce.jsx)(z.Ay,{item:!0,xs:12,sm:6,children:(0,ce.jsx)(D,{url:null===I||void 0===I||null===(A=I.license)||void 0===A?void 0:A.licenseFrontView,title:"M\u1eb7t tr\u01b0\u1edbc"})}),(0,ce.jsx)(z.Ay,{item:!0,xs:12,sm:6,children:(0,ce.jsx)(D,{url:null===I||void 0===I||null===(g=I.license)||void 0===g?void 0:g.licenseBackView,title:"M\u1eb7t sau"})})]}),(0,ce.jsx)(m.A,{sx:{my:3}}),(0,ce.jsxs)(u.A,{sx:{display:"flex",justifyContent:"flex-end",gap:2},children:[(0,ce.jsx)(b.A,{variant:"outlined",color:"error",onClick:()=>N("REJECTED"),startIcon:(0,ce.jsx)(Ve,{}),children:"T\u1eeb ch\u1ed1i"}),(0,ce.jsx)(b.A,{variant:"contained",color:"success",onClick:()=>N("APPROVED"),startIcon:(0,ce.jsx)(Ne,{}),children:"Ch\u1ea5p nh\u1eadn"})]})]}):(0,ce.jsx)(u.A,{sx:{textAlign:"center",py:4},children:(0,ce.jsx)(j.A,{variant:"h6",color:"text.secondary",children:"No license information available"})})]})})})})};var Te=l(249),ze=l(26050),Fe=l(14195),Pe=l(71378),Le=l(51400),He=l(39060),Re=l(19474);const Be=l(40630),Oe=[{value:3,label:"Rejected"},{value:1,label:"Verified"},{value:2,label:"Pending"}],We=e=>{let{data:i}=e;const l=(0,r.A)(),n=(0,s.A)(l.breakpoints.down("md")),t=Oe.filter((e=>e.value===Number(i.status)));return(0,ce.jsxs)(z.Ay,{container:!0,spacing:2.5,sx:{pl:{xs:0,sm:5,md:6,lg:10,xl:12}},children:[(0,ce.jsx)(z.Ay,{item:!0,xs:12,sm:5,md:4,xl:3.5,children:(0,ce.jsxs)(E.A,{children:[(0,ce.jsx)(f.A,{label:t.length>0?t[0].label:"Pending",size:"small",sx:{position:"absolute",right:-1,top:-1,borderRadius:"0 4px 0 4px"}}),(0,ce.jsxs)(z.Ay,{container:!0,spacing:3,children:[(0,ce.jsx)(z.Ay,{item:!0,xs:12,children:(0,ce.jsxs)(a.A,{spacing:2.5,alignItems:"center",children:[(0,ce.jsx)(N.A,{alt:"Avatar 1",size:"xl",src:Be("./avatar-1.png")}),(0,ce.jsxs)(a.A,{spacing:.5,alignItems:"center",children:[(0,ce.jsx)(j.A,{variant:"h5",children:i.driverIdentity.driverFullName}),(0,ce.jsx)(j.A,{color:"secondary",children:i.role})]})]})}),(0,ce.jsx)(z.Ay,{item:!0,xs:12,children:(0,ce.jsx)(m.A,{})}),(0,ce.jsx)(z.Ay,{item:!0,xs:12,children:(0,ce.jsxs)(a.A,{direction:"row",justifyContent:"space-around",alignItems:"center",children:[(0,ce.jsxs)(a.A,{spacing:.5,alignItems:"center",children:[(0,ce.jsx)(j.A,{variant:"h5",children:i.age}),(0,ce.jsx)(j.A,{color:"secondary",children:"Age"})]}),(0,ce.jsx)(m.A,{orientation:"vertical",flexItem:!0}),(0,ce.jsxs)(a.A,{spacing:.5,alignItems:"center",children:[(0,ce.jsxs)(j.A,{variant:"h5",children:[i.progress,"%"]}),(0,ce.jsx)(j.A,{color:"secondary",children:"Progress"})]}),(0,ce.jsx)(m.A,{orientation:"vertical",flexItem:!0}),(0,ce.jsxs)(a.A,{spacing:.5,alignItems:"center",children:[(0,ce.jsx)(j.A,{variant:"h5",children:i.visits}),(0,ce.jsx)(j.A,{color:"secondary",children:"Visits"})]})]})}),(0,ce.jsx)(z.Ay,{item:!0,xs:12,children:(0,ce.jsx)(m.A,{})}),(0,ce.jsx)(z.Ay,{item:!0,xs:12,children:(0,ce.jsxs)(Te.A,{component:"nav","aria-label":"main mailbox folders",sx:{py:0,"& .MuiListItem-root":{p:0}},children:[(0,ce.jsxs)(ze.Ay,{children:[(0,ce.jsx)(Fe.A,{children:(0,ce.jsx)(Le.A,{})}),(0,ce.jsx)(G.A,{primary:(0,ce.jsx)(j.A,{color:"secondary",children:"Email"})}),(0,ce.jsx)(Pe.A,{children:(0,ce.jsx)(j.A,{align:"right",children:i.email})})]}),(0,ce.jsxs)(ze.Ay,{children:[(0,ce.jsx)(Fe.A,{children:(0,ce.jsx)(He.A,{})}),(0,ce.jsx)(G.A,{primary:(0,ce.jsx)(j.A,{color:"secondary",children:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i"})}),(0,ce.jsx)(Pe.A,{children:(0,ce.jsx)(j.A,{align:"right",children:i.phone})})]}),(0,ce.jsxs)(ze.Ay,{children:[(0,ce.jsx)(Fe.A,{children:(0,ce.jsx)(Re.A,{})}),(0,ce.jsx)(G.A,{primary:(0,ce.jsx)(j.A,{color:"secondary",children:"\u0110\u1ecba ch\u1ec9"})}),(0,ce.jsx)(Pe.A,{children:(0,ce.jsx)(j.A,{align:"right",children:i.driverIdentity.driverCountry})})]})]})})]})]})}),(0,ce.jsx)(z.Ay,{item:!0,xs:12,sm:7,md:8,xl:8.5,children:(0,ce.jsxs)(a.A,{spacing:2.5,children:[(0,ce.jsx)(E.A,{title:"Th\xf4ng tin c\xe1 nh\xe2n",children:(0,ce.jsxs)(Te.A,{sx:{py:0},children:[(0,ce.jsx)(ze.Ay,{divider:!n,children:(0,ce.jsxs)(z.Ay,{container:!0,spacing:3,children:[(0,ce.jsx)(z.Ay,{item:!0,xs:12,md:6,children:(0,ce.jsxs)(a.A,{spacing:.5,children:[(0,ce.jsx)(j.A,{color:"secondary",children:"H\u1ecd v\xe0 t\xean"}),(0,ce.jsx)(j.A,{children:i.driverIdentity.driverFullName})]})}),(0,ce.jsx)(z.Ay,{item:!0,xs:12,md:6,children:(0,ce.jsxs)(a.A,{spacing:.5,children:[(0,ce.jsx)(j.A,{color:"secondary",children:"ID "}),(0,ce.jsx)(j.A,{children:i.driverIdentity.driverIDNumber})]})})]})}),(0,ce.jsx)(ze.Ay,{divider:!n,children:(0,ce.jsxs)(z.Ay,{container:!0,spacing:3,children:[(0,ce.jsx)(z.Ay,{item:!0,xs:12,md:6,children:(0,ce.jsxs)(a.A,{spacing:.5,children:[(0,ce.jsx)(j.A,{color:"secondary",children:"Qu\u1ed1c gia"}),(0,ce.jsx)(j.A,{children:i.driverIdentity.driverCountry})]})}),(0,ce.jsx)(z.Ay,{item:!0,xs:12,md:6,children:(0,ce.jsxs)(a.A,{spacing:.5,children:[(0,ce.jsx)(j.A,{color:"secondary",children:"Ng\xe0y sinh"}),(0,ce.jsx)(j.A,{children:new Date(i.driverIdentity.driverBirthday).toLocaleDateString("vi-VN")})]})})]})}),(0,ce.jsx)(ze.Ay,{divider:!n,children:(0,ce.jsxs)(z.Ay,{container:!0,spacing:3,children:[(0,ce.jsx)(z.Ay,{item:!0,xs:12,md:6,children:(0,ce.jsxs)(a.A,{spacing:.5,children:[(0,ce.jsx)(j.A,{color:"secondary",children:"\u0110\u1ecba ch\u1ec9 th\u01b0\u1eddng tr\xfa"}),(0,ce.jsx)(j.A,{children:"100 \u0111\u01b0\u1eddng Tr\u1ea7n Ho\xe0ng Na, ph\u01b0\u1eddng An Kh\xe1nh, qu\u1eadn Ninh Ki\u1ec1u, TP.C\u1ea7n Th\u01a1"})]})}),(0,ce.jsx)(z.Ay,{item:!0,xs:12,md:6,children:(0,ce.jsxs)(a.A,{spacing:.5,children:[(0,ce.jsx)(j.A,{color:"secondary",children:"\u0110\u1ecba ch\u1ec9 t\u1ea1m th\u1eddi"}),(0,ce.jsx)(j.A,{children:"13/2 \u0111\u01b0\u1eddng Ho\xe0ng Di\u1ec7u, ph\u01b0\u1eddng 12, qu\u1eadn 4, TP.H\u1ed3 Ch\xed Minh"})]})})]})})]})}),(0,ce.jsx)(E.A,{title:"Gi\u1edbi thi\u1ec7u",children:(0,ce.jsxs)(j.A,{color:"secondary",children:["Ch\xe0o, t\xf4i l\xe0 ",i.firstName," ",i.lastName," ",i.role," C\u1ee7a FTCS ",i.about]})})]})})]})};var Ke=l(44070),$e=l(8750),Ge=l(12678),Je=l(76074),Ye=l(24513),_e=l(95749),qe=l(2886),Qe=l(95390);const Ue=(0,Ce.A)((0,ce.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"}),"Person"),Xe=(0,Ce.A)((0,ce.jsx)("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7m0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5"}),"LocationOn"),Ze=e=>{var i,l,r,t,s,a,o,c,d,h,x,v,A,g,p,y;let{open:I,modalToggler:C,driver:S,driverIdentificationId:w,refetchDrivers:k}=e;const N=()=>C(!1),V=(null===S||void 0===S||null===(i=S.driverIdentity)||void 0===i?void 0:i.driverFullName)&&(null===S||void 0===S||null===(l=S.driverIdentity)||void 0===l?void 0:l.driverIDNumber)&&(null===S||void 0===S||null===(r=S.driverIdentity)||void 0===r?void 0:r.driverFrontView)&&(null===S||void 0===S||null===(t=S.driverIdentity)||void 0===t?void 0:t.driverBackView),D=e=>{w?async function(e,i){if(!e)return void console.error("Driver Identification ID is undefined");const l={status:i};try{const i=await(0,ne.lm)([re.J+te.registerDriver+"/"+te.identification+te.status+"/"+e,l]);return(0,le.Tk)(te.key),console.log("Driver status updated successfully:",i),i}catch(n){console.error("Error updating driver status:",n)}}(w,e).then((()=>{(0,ae.aN)({open:!0,message:`Status updated successfully: ${e}`,variant:"alert",alert:{color:"APPROVED"===e?"success":"error"},anchorOrigin:{vertical:"top",horizontal:"right"},transition:"SlideLeft"}),k(),N()})).catch((()=>{alert("An error occurred. Please try again!")})):alert("No valid driver ID.")},M=e=>{let{icon:i,label:l,value:r}=e;return(0,ce.jsxs)(u.A,{sx:{display:"flex",alignItems:"center",mb:2},children:[n.cloneElement(i,{sx:{color:"primary.main"}}),(0,ce.jsxs)(u.A,{sx:{ml:2},children:[(0,ce.jsx)(j.A,{variant:"caption",color:"text.secondary",children:l}),(0,ce.jsx)(j.A,{variant:"body1",children:r||"N/A"})]})]})},F=e=>{let{url:i,title:l}=e;return(0,ce.jsxs)(u.A,{sx:{height:"100%"},children:[(0,ce.jsxs)(j.A,{variant:"subtitle2",color:"text.secondary",sx:{mb:1},children:[(0,ce.jsx)(De,{sx:{mr:1,verticalAlign:"bottom",fontSize:"1rem"}}),l]}),(0,ce.jsxs)(Ie.A,{elevation:2,sx:{height:200,overflow:"hidden",position:"relative",borderRadius:2,"&:hover":{"& .overlay":{opacity:1}}},children:[(0,ce.jsx)(u.A,{component:"img",src:i,alt:l,sx:{width:"100%",height:"100%",objectFit:"cover",display:"block"}}),(0,ce.jsx)(u.A,{className:"overlay",sx:{position:"absolute",top:0,left:0,right:0,bottom:0,bgcolor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",opacity:0,transition:"opacity 0.2s ease-in-out"},children:(0,ce.jsx)(b.A,{variant:"contained",size:"small",onClick:()=>window.open(i,"_blank"),sx:{bgcolor:"common.white",color:"primary.main","&:hover":{bgcolor:"common.white",opacity:.9}},children:"View Full Size"})})]})]})};return(0,ce.jsx)(T.A,{open:I,onClose:N,"aria-labelledby":"modal-driver-identification",sx:{display:"flex",alignItems:"center",justifyContent:"center"},children:(0,ce.jsx)(E.A,{sx:{width:"calc(100% - 48px)",minWidth:340,maxWidth:880,maxHeight:"calc(100vh - 48px)",m:2},modal:!0,content:!1,children:(0,ce.jsx)(be.A,{sx:{maxHeight:"calc(100vh - 48px)","& .simplebar-content":{height:"100%"}},children:(0,ce.jsxs)(u.A,{sx:{p:3},children:[(0,ce.jsxs)(u.A,{sx:{mb:3,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,ce.jsx)(j.A,{variant:"h4",children:"C\u0103n c\u01b0\u1edbc c\xf4ng d\xe2n "}),(null===S||void 0===S||null===(s=S.driverIdentity)||void 0===s?void 0:s.driverIDVerified)&&(0,ce.jsx)(f.A,{icon:(0,ce.jsx)(Ne,{fontSize:"small"}),label:"Verified",color:"success",variant:"outlined",size:"small"})]}),V?(0,ce.jsxs)(ce.Fragment,{children:[(0,ce.jsx)(Ie.A,{elevation:0,sx:{p:3,mb:3,bgcolor:"grey.50"},children:(0,ce.jsxs)(z.Ay,{container:!0,spacing:3,children:[(0,ce.jsxs)(z.Ay,{item:!0,xs:12,md:6,children:[(0,ce.jsx)(M,{icon:(0,ce.jsx)(Ue,{}),label:"H\u1ecd v\xe0 t\xean",value:null===S||void 0===S||null===(a=S.driverIdentity)||void 0===a?void 0:a.driverFullName}),(0,ce.jsx)(M,{icon:(0,ce.jsx)(we,{}),label:"ID",value:null===S||void 0===S||null===(o=S.driverIdentity)||void 0===o?void 0:o.driverIDNumber}),(0,ce.jsx)(M,{icon:(0,ce.jsx)(Ue,{}),label:"Gi\u1edbi t\xednh",value:null===S||void 0===S||null===(c=S.driverIdentity)||void 0===c?void 0:c.driverGender}),(0,ce.jsx)(M,{icon:(0,ce.jsx)(ke,{}),label:"Ng\xe0y sinh",value:null===S||void 0===S||null===(d=S.driverIdentity)||void 0===d?void 0:d.driverBirthday})]}),(0,ce.jsxs)(z.Ay,{item:!0,xs:12,md:6,children:[(0,ce.jsx)(M,{icon:(0,ce.jsx)(Xe,{}),label:"Qu\u1ed1c gia",value:null===S||void 0===S||null===(h=S.driverIdentity)||void 0===h?void 0:h.driverCountry}),(0,ce.jsx)(M,{icon:(0,ce.jsx)(we,{}),label:"\u0110\u01b0\u1ee3c c\u1ea5p b\u1edfi",value:null===S||void 0===S||null===(x=S.driverIdentity)||void 0===x?void 0:x.driverIDIssuedBy}),(0,ce.jsx)(M,{icon:(0,ce.jsx)(ke,{}),label:"Ng\xe0y c\u1ea5p",value:null===S||void 0===S||null===(v=S.driverIdentity)||void 0===v?void 0:v.driverIDIssueDate}),(0,ce.jsx)(M,{icon:(0,ce.jsx)(ke,{}),label:"Expiry Date",value:null===S||void 0===S||null===(A=S.driverIdentity)||void 0===A?void 0:A.driverIDExpiryDate})]})]})}),(0,ce.jsx)(j.A,{variant:"h5",sx:{mb:2},children:"H\u1ec9nh \u1ea3nh c\u0103n c\u01b0\u1edbc"}),(0,ce.jsxs)(z.Ay,{container:!0,spacing:3,sx:{mb:3},children:[(0,ce.jsx)(z.Ay,{item:!0,xs:12,sm:6,children:(0,ce.jsx)(F,{url:null===S||void 0===S||null===(g=S.driverIdentity)||void 0===g?void 0:g.driverFrontView,title:"M\u1eb7t tr\u01b0\u1edbc"})}),(0,ce.jsx)(z.Ay,{item:!0,xs:12,sm:6,children:(0,ce.jsx)(F,{url:null===S||void 0===S||null===(p=S.driverIdentity)||void 0===p?void 0:p.driverBackView,title:"M\u1eb7t sau"})})]}),(null===S||void 0===S||null===(y=S.addressList)||void 0===y?void 0:y.length)>0&&(0,ce.jsxs)(ce.Fragment,{children:[(0,ce.jsx)(j.A,{variant:"h5",sx:{mb:2},children:"\u0110\u1ecba chi"}),(0,ce.jsx)(z.Ay,{container:!0,spacing:2,children:S.addressList.map(((e,i)=>(e=>(null===e||void 0===e?void 0:e.addressType)||(null===e||void 0===e?void 0:e.streetAddress)||(null===e||void 0===e?void 0:e.wardName)||(null===e||void 0===e?void 0:e.districtName)||(null===e||void 0===e?void 0:e.provinceId)||(null===e||void 0===e?void 0:e.addressNotes))(e)&&(0,ce.jsx)(z.Ay,{item:!0,xs:12,children:(0,ce.jsxs)(Ie.A,{elevation:0,sx:{p:2,bgcolor:"grey.50"},children:[(0,ce.jsx)(u.A,{sx:{mb:1},children:(0,ce.jsx)(f.A,{label:(null===e||void 0===e?void 0:e.addressType)||"Address",size:"small",sx:{mb:1}})}),(0,ce.jsx)(j.A,{variant:"body2",color:"text.secondary",children:[null===e||void 0===e?void 0:e.streetAddress,null===e||void 0===e?void 0:e.wardName,null===e||void 0===e?void 0:e.districtName,null===e||void 0===e?void 0:e.provinceId].filter(Boolean).join(", ")}),(null===e||void 0===e?void 0:e.addressNotes)&&(0,ce.jsxs)(j.A,{variant:"body2",color:"text.secondary",sx:{mt:1},children:["Note: ",e.addressNotes]})]})},i)))})]}),(0,ce.jsx)(m.A,{sx:{my:3}}),(0,ce.jsxs)(u.A,{sx:{display:"flex",justifyContent:"flex-end",gap:2},children:[(0,ce.jsx)(b.A,{variant:"outlined",color:"error",onClick:()=>D("REJECTED"),startIcon:(0,ce.jsx)(Ve,{}),children:"T\u1eeb ch\u1ed1i"}),(0,ce.jsx)(b.A,{variant:"contained",color:"success",onClick:()=>D("APPROVED"),startIcon:(0,ce.jsx)(Ne,{}),children:"Ch\u1ea5p nh\u1eadn"})]})]}):(0,ce.jsx)(u.A,{sx:{textAlign:"center",py:4},children:(0,ce.jsx)(j.A,{variant:"h6",color:"text.secondary",children:"Kh\xf4ng c\xf3 th\xf4ng tin t\xe0i x\u1ebf"})})]})})})})},ei=(0,Ce.A)((0,ce.jsx)("path",{d:"M18.92 6.01C18.72 5.42 18.16 5 17.5 5h-11c-.66 0-1.21.42-1.42 1.01L3 12v8c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-1h12v1c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-8zM6.5 16c-.83 0-1.5-.67-1.5-1.5S5.67 13 6.5 13s1.5.67 1.5 1.5S7.33 16 6.5 16m11 0c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5M5 11l1.5-4.5h11L19 11z"}),"DirectionsCar"),ii=(0,Ce.A)((0,ce.jsx)("path",{d:"M12.65 10C11.83 7.67 9.61 6 7 6c-3.31 0-6 2.69-6 6s2.69 6 6 6c2.61 0 4.83-1.67 5.65-4H17v4h4v-4h2v-4zM7 14c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2"}),"VpnKey"),li=(0,Ce.A)([(0,ce.jsx)("path",{d:"m12 2-5.5 9h11z"},"0"),(0,ce.jsx)("circle",{cx:"17.5",cy:"17.5",r:"4.5"},"1"),(0,ce.jsx)("path",{d:"M3 13.5h8v8H3z"},"2")],"Category"),ni=(0,Ce.A)((0,ce.jsx)("path",{d:"m22.7 19-9.1-9.1c.9-2.3.4-5-1.5-6.9-2-2-5-2.4-7.4-1.3L9 6 6 9 1.6 4.7C.4 7.1.9 10.1 2.9 12.1c1.9 1.9 4.6 2.4 6.9 1.5l9.1 9.1c.4.4 1 .4 1.4 0l2.3-2.3c.5-.4.5-1.1.1-1.4"}),"Build"),ri=(0,Ce.A)((0,ce.jsx)("path",{d:"M23 8c0 1.1-.9 2-2 2-.18 0-.35-.02-.51-.07l-3.56 3.55c.05.16.07.34.07.52 0 1.1-.9 2-2 2s-2-.9-2-2c0-.18.02-.36.07-.52l-2.55-2.55c-.16.05-.34.07-.52.07s-.36-.02-.52-.07l-4.55 4.56c.05.16.07.33.07.51 0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2c.18 0 .35.02.51.07l4.56-4.55C8.02 9.36 8 9.18 8 9c0-1.1.9-2 2-2s2 .9 2 2c0 .18-.02.36-.07.52l2.55 2.55c.16-.05.34-.07.52-.07s.36.02.52.07l3.55-3.56C19.02 8.35 19 8.18 19 8c0-1.1.9-2 2-2s2 .9 2 2"}),"Timeline"),ti=(0,Ce.A)((0,ce.jsx)("path",{d:"M2 20h20v-4H2zm2-3h2v2H4zM2 4v4h20V4zm4 3H4V5h2zm-4 7h20v-4H2zm2-3h2v2H4z"}),"Storage"),si=(0,Ce.A)((0,ce.jsx)("path",{d:"M19 12h-2v3h-3v2h5zM7 9h3V7H5v5h2zm14-6H3c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m0 16.01H3V4.99h18z"}),"AspectRatio"),ai=e=>{var i,l;let{open:r,modalToggler:t,driver:s,vehicleIds:a,refetchDrivers:o}=e;const c=()=>t(!1),d=(null===s||void 0===s||null===(i=s.vehicles)||void 0===i?void 0:i.length)>0,h=null===s||void 0===s||null===(l=s.vehicles)||void 0===l?void 0:l.every((e=>!e.licensePlate&&!e.vehicleType&&!e.vehicleMake&&!e.vehicleModel&&!e.vehicleYear&&!e.vehicleFrontView&&!e.vehicleBackView)),x=(e,i)=>{e?async function(e,i){if(!e)return void console.error("Vehicle ID is undefined");const l={status:i};try{const i=await(0,ne.lm)([re.J+te.registerDriver+"/"+te.vehicle+te.status+"/"+e,l]);return(0,le.Tk)(te.key),console.log("Vehicle status updated successfully:",i),i}catch(n){console.error("Error updating vehicle status:",n)}}(e,i).then((()=>{(0,ae.aN)({open:!0,message:`Status updated successfully: ${i}`,variant:"alert",alert:{color:"APPROVED"===i?"success":"error"},anchorOrigin:{vertical:"top",horizontal:"right"},transition:"SlideLeft"}),o(),c()})).catch((()=>{alert("An error occurred. Please try again!")})):alert("No valid vehicle ID.")},v=e=>{let{icon:i,label:l,value:r}=e;return(0,ce.jsxs)(u.A,{sx:{display:"flex",alignItems:"center",mb:2},children:[n.cloneElement(i,{sx:{color:"primary.main"}}),(0,ce.jsxs)(u.A,{sx:{ml:2},children:[(0,ce.jsx)(j.A,{variant:"caption",color:"text.secondary",children:l}),(0,ce.jsx)(j.A,{variant:"body1",children:r||"N/A"})]})]})},m=e=>{let{url:i,title:l}=e;return(0,ce.jsxs)(u.A,{sx:{height:"100%"},children:[(0,ce.jsxs)(j.A,{variant:"subtitle2",color:"text.secondary",sx:{mb:1},children:[(0,ce.jsx)(De,{sx:{mr:1,verticalAlign:"bottom",fontSize:"1rem"}}),l]}),(0,ce.jsxs)(Ie.A,{elevation:2,sx:{height:200,overflow:"hidden",position:"relative","&:hover":{"& .overlay":{opacity:1}}},children:[(0,ce.jsx)(u.A,{component:"img",src:i,alt:l,sx:{width:"100%",height:"100%",objectFit:"cover",display:"block"}}),(0,ce.jsx)(u.A,{className:"overlay",sx:{position:"absolute",top:0,left:0,right:0,bottom:0,bgcolor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",opacity:0,transition:"opacity 0.3s"},children:(0,ce.jsx)(b.A,{variant:"contained",color:"primary",size:"small",onClick:()=>window.open(i,"_blank"),children:"View Full Size"})})]})]})};return(0,ce.jsx)(T.A,{open:r,onClose:c,"aria-labelledby":"modal-driver-vehicle",sx:{display:"flex",alignItems:"center",justifyContent:"center"},children:(0,ce.jsx)(E.A,{sx:{width:"calc(100% - 48px)",minWidth:340,maxWidth:880,maxHeight:"calc(100vh - 48px)",m:2},modal:!0,content:!1,children:(0,ce.jsx)(be.A,{sx:{maxHeight:"calc(100vh - 48px)","& .simplebar-content":{height:"100%"}},children:(0,ce.jsxs)(u.A,{sx:{p:3},children:[(0,ce.jsxs)(u.A,{sx:{mb:3,display:"flex",alignItems:"center"},children:[(0,ce.jsx)(ei,{sx:{mr:1,color:"primary.main"}}),(0,ce.jsx)(j.A,{variant:"h4",children:"Th\xf4ng tin ph\u01b0\u01a1ng ti\u1ec7n"})]}),d&&!h?(0,ce.jsx)(z.Ay,{container:!0,spacing:2,children:s.vehicles.map(((e,i)=>(0,ce.jsx)(z.Ay,{item:!0,xs:12,children:(0,ce.jsxs)(Ie.A,{elevation:0,sx:{p:3,mb:2,bgcolor:"grey.50",position:"relative"},children:[(0,ce.jsx)(u.A,{sx:{position:"absolute",top:16,right:16},children:(0,ce.jsx)(f.A,{label:`Vehicle ${i+1}`,color:"primary",variant:"outlined",size:"small"})}),(0,ce.jsxs)(z.Ay,{container:!0,spacing:3,children:[(0,ce.jsxs)(z.Ay,{item:!0,xs:12,md:6,children:[(0,ce.jsx)(v,{icon:(0,ce.jsx)(ii,{}),label:"Bi\u1ec3n s\u1ed1",value:e.licensePlate}),(0,ce.jsx)(v,{icon:(0,ce.jsx)(li,{}),label:"Lo\u1ea1i xe",value:e.vehicleType}),(0,ce.jsx)(v,{icon:(0,ce.jsx)(ni,{}),label:"H\xe3ng xe",value:e.vehicleMake}),(0,ce.jsx)(v,{icon:(0,ce.jsx)(ti,{}),label:"T\u1ea3i tr\u1ecdng",value:e.vehicleCapacity})]}),(0,ce.jsxs)(z.Ay,{item:!0,xs:12,md:6,children:[(0,ce.jsx)(v,{icon:(0,ce.jsx)(ei,{}),label:"M\u1eabu xe",value:e.vehicleModel}),(0,ce.jsx)(v,{icon:(0,ce.jsx)(ri,{}),label:"N\u0103m s\u1ea3n xu\u1ea5t",value:e.vehicleYear}),(0,ce.jsx)(v,{icon:(0,ce.jsx)(si,{}),label:"K\xedch th\u01b0\u1edbc xe",value:e.vehicleDimensions})]})]}),(0,ce.jsx)(j.A,{variant:"h5",sx:{mb:2},children:"H\xecnh \u1ea3nh xe"}),(0,ce.jsxs)(z.Ay,{container:!0,spacing:3,sx:{mb:3},children:[(0,ce.jsx)(z.Ay,{item:!0,xs:12,sm:6,children:(0,ce.jsx)(m,{url:null===e||void 0===e?void 0:e.vehicleFrontView,title:"M\u1eb7t tr\u01b0\u1edbc"})}),(0,ce.jsx)(z.Ay,{item:!0,xs:12,sm:6,children:(0,ce.jsx)(m,{url:null===e||void 0===e?void 0:e.vehicleBackView,title:"M\u1eb7t sau"})})]}),(0,ce.jsxs)(u.A,{sx:{mt:3,display:"flex",justifyContent:"flex-end",gap:2},children:[(0,ce.jsx)(b.A,{variant:"outlined",color:"error",onClick:()=>x(a[i],"REJECTED"),startIcon:(0,ce.jsx)(Ve,{}),children:"T\u1eeb ch\u1ed1i"}),(0,ce.jsx)(b.A,{variant:"contained",color:"success",onClick:()=>x(a[i],"APPROVED"),startIcon:(0,ce.jsx)(Ne,{}),children:"Ch\u1ea5p nh\u1eadn"})]})]})},i)))}):(0,ce.jsx)(u.A,{sx:{textAlign:"center",py:4},children:(0,ce.jsx)(j.A,{variant:"h6",color:"text.secondary",children:"No vehicle information available"})})]})})})})};var oi=l(1808);const ci=l(40630),di=(e,i,l,n)=>{const r=(0,w.IL)(e.getValue(i),l);return n(r),r.passed};function hi(e){let{data:i,columns:l}=e;const j=(0,r.A)(),A=(0,s.A)(j.breakpoints.down("sm")),[g,p]=(0,n.useState)([{id:"id",desc:!0}]),[y,b]=(0,n.useState)({}),[f,I]=(0,n.useState)(""),w=(0,C.N4)({data:i,columns:l,state:{sorting:g,rowSelection:y,globalFilter:f},enableRowSelection:!0,onSortingChange:p,onRowSelectionChange:b,onGlobalFilterChange:I,getRowCanExpand:()=>!0,getSortedRowModel:(0,S.h5)(),getFilteredRowModel:(0,S.hM)(),getCoreRowModel:(0,S.HT)(),getPaginationRowModel:(0,S.kW)(),getExpandedRowModel:(0,S.D0)(),globalFilterFn:di,debugTable:!0}),N=(0,t.X4)(j.palette.primary.lighter,.1);let V=[];return l.map((e=>e.accessorKey&&V.push({label:"string"===typeof e.header?e.header:"#",key:e.accessorKey}))),(0,ce.jsxs)(E.A,{content:!1,children:[(0,ce.jsxs)(a.A,{direction:{xs:"column",sm:"row"},spacing:2,alignItems:"center",justifyContent:"space-between",sx:{padding:2,...A&&{"& .MuiOutlinedInput-root, & .MuiFormControl-root":{width:"100%"}}},children:[(0,ce.jsx)(M.iF,{value:null!==f&&void 0!==f?f:"",onFilterChange:e=>I(String(e)),placeholder:`Search ${i.length} records...`}),(0,ce.jsxs)(a.A,{direction:{xs:"column",sm:"row"},spacing:2,alignItems:"center",sx:{width:{xs:"100%",sm:"auto"}},children:[(0,ce.jsx)(M.b7,{getState:w.getState,getAllColumns:w.getAllColumns,setSorting:p}),(0,ce.jsx)(a.A,{direction:"row",spacing:2,alignItems:"center",children:(0,ce.jsx)(M.pK,{data:0===w.getSelectedRowModel().flatRows.map((e=>e.original)).length?i:w.getSelectedRowModel().flatRows.map((e=>e.original)),headers:V,filename:"driver-list.csv"})})]})]}),(0,ce.jsx)(k.A,{children:(0,ce.jsxs)(a.A,{children:[(0,ce.jsx)(M.BR,{selected:Object.keys(y).length}),(0,ce.jsx)(o.A,{children:(0,ce.jsxs)(c.A,{children:[(0,ce.jsx)(d.A,{children:w.getHeaderGroups().map((e=>(0,ce.jsx)(h.A,{children:e.headers.map((e=>(void 0!==e.column.columnDef.meta&&e.column.getCanSort()&&Object.assign(e.column.columnDef.meta,{className:e.column.columnDef.meta.className+" cursor-pointer prevent-select"}),(0,ce.jsx)(x.A,{...e.column.columnDef.meta,onClick:e.column.getToggleSortingHandler(),...e.column.getCanSort()&&void 0===e.column.columnDef.meta&&{className:"cursor-pointer prevent-select"},children:e.isPlaceholder?null:(0,ce.jsxs)(a.A,{direction:"row",spacing:1,alignItems:"center",children:[(0,ce.jsx)(u.A,{children:(0,C.Kv)(e.column.columnDef.header,e.getContext())}),e.column.getCanSort()&&(0,ce.jsx)(M.gT,{column:e.column})]})},e.id))))},e.id)))}),(0,ce.jsx)(v.A,{children:w.getRowModel().rows.map((e=>(0,ce.jsxs)(n.Fragment,{children:[(0,ce.jsx)(h.A,{children:e.getVisibleCells().map((e=>(0,ce.jsx)(x.A,{...e.column.columnDef.meta,children:(0,C.Kv)(e.column.columnDef.cell,e.getContext())},e.id)))}),e.getIsExpanded()&&(0,ce.jsx)(h.A,{sx:{bgcolor:N,"&:hover":{bgcolor:`${N} !important`}},children:(0,ce.jsx)(x.A,{colSpan:e.getVisibleCells().length,children:(0,ce.jsx)(We,{data:e.original})})})]},e.id)))})]})}),(0,ce.jsxs)(ce.Fragment,{children:[(0,ce.jsx)(m.A,{}),(0,ce.jsx)(u.A,{sx:{p:2},children:(0,ce.jsx)(M.xN,{setPageSize:w.setPageSize,setPageIndex:w.setPageIndex,getState:w.getState,getPageCount:w.getPageCount})})]})]})})]})}const xi=e=>{let{open:i,onClose:l,accountId:r}=e;const{schedules:t,schedulesLoading:s}=(0,oi.Bz)(r,0,10),u=(0,n.useMemo)((()=>[{header:"Schedule ID",accessorKey:"scheduleId"},{header:"Status",accessorKey:"status",cell:e=>{let{getValue:i}=e;return(0,ce.jsx)(j.A,{variant:"subtitle1",sx:{color:"WAITING_FOR_DELIVERY"===i()?"warning.main":"IN_PROGRESS"===i()?"info.main":"COMPLETED"===i()?"success.main":"error.main"},children:i()})}},{header:"Pickup Location",accessorKey:"startLocationAddress"},{header:"Dropoff Location",accessorKey:"endLocationAddress"},{header:"Start Date",accessorKey:"startDate",cell:e=>{let{getValue:i}=e;const l=new Date(i());return(0,ce.jsx)(j.A,{variant:"subtitle1",children:l.toLocaleString()})}},{header:"End Date",accessorKey:"endDate",cell:e=>{let{getValue:i}=e;const l=new Date(i());return(0,ce.jsx)(j.A,{variant:"subtitle1",children:l.toLocaleString()})}},{header:"Available Capacity",accessorKey:"availableCapacity",cell:e=>{let{getValue:i}=e;return(0,ce.jsxs)(j.A,{variant:"subtitle1",children:[i().toLocaleString()," kg"]})}}]),[]);return s?(0,ce.jsx)(j.A,{children:"Loading..."}):(0,ce.jsxs)(A.A,{open:i,onClose:l,maxWidth:"lg",fullWidth:!0,children:[(0,ce.jsx)(g.A,{children:(0,ce.jsxs)(a.A,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[(0,ce.jsx)(j.A,{variant:"h4",children:"Schedules"}),(0,ce.jsx)(V.A,{onClick:l,color:"error",children:(0,ce.jsx)(Ke.A,{})})]})}),(0,ce.jsx)(p.A,{children:(0,ce.jsx)(o.A,{children:(0,ce.jsxs)(c.A,{children:[(0,ce.jsx)(d.A,{children:(0,ce.jsx)(h.A,{children:u.map((e=>(0,ce.jsx)(x.A,{children:e.header},e.header)))})}),(0,ce.jsx)(v.A,{children:null===t||void 0===t?void 0:t.map((e=>(0,ce.jsx)(h.A,{children:u.map((i=>(0,ce.jsx)(x.A,{children:i.cell?i.cell({getValue:()=>e[i.accessorKey]}):e[i.accessorKey]},i.header)))},e.scheduleId)))})]})})}),(0,ce.jsx)(y.A,{children:(0,ce.jsx)(b.A,{onClick:l,children:"Close"})})]})},ui=()=>{const e=(0,r.A)(),i=localStorage.getItem("role"),{driversLoading:l,drivers:t,refetch:s}=(0,Qe.YH)(),{driversLoading:o,drivers:c,refetch:d}=se(),h="AREA_MANAGEMENT"===i?l:o,x="AREA_MANAGEMENT"===i?t:c,u="AREA_MANAGEMENT"===i?s:d,[v,m]=(0,n.useState)(!1),[A,g]=(0,n.useState)(""),[p,y]=(0,n.useState)(""),[b,C]=(0,n.useState)(""),[S,w]=(0,n.useState)(!1),[k,E]=(0,n.useState)(null),[T,z]=(0,n.useState)(""),[F,P]=(0,n.useState)(!1),[L,H]=(0,n.useState)(!1),[R,B]=(0,n.useState)(!1),[O,W]=(0,n.useState)(!1),[K,$]=(0,n.useState)(""),G=()=>{m(!v)},J=(0,n.useMemo)((()=>[{id:"select",header:e=>{let{table:i}=e;return(0,ce.jsx)(M.Z8,{checked:i.getIsAllRowsSelected(),indeterminate:i.getIsSomeRowsSelected(),onChange:i.getToggleAllRowsSelectedHandler()})},cell:e=>{let{row:i}=e;return(0,ce.jsx)(M.Z8,{checked:i.getIsSelected(),disabled:!i.getCanSelect(),indeterminate:i.getIsSomeSelected(),onChange:i.getToggleSelectedHandler()})}},{header:"#",accessorKey:"accountId",meta:{className:"cell-center"}},{header:"Th\xf4ng tin",accessorKey:"driverIdentity.driverFullName",cell:e=>{let{row:i,getValue:l}=e;return(0,ce.jsxs)(a.A,{direction:"row",spacing:1.5,alignItems:"center",children:[(0,ce.jsx)(N.A,{alt:"Avatar 1",size:"sm",src:ci(`./avatar-${i.original.profilePicture?i.original.profilePicture:1}.png`)}),(0,ce.jsxs)(a.A,{spacing:0,children:[(0,ce.jsx)(j.A,{variant:"subtitle1",children:l()}),(0,ce.jsx)(j.A,{color:"text.secondary",children:i.original.email})]})]})}},{header:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i",accessorKey:"phone",cell:e=>{let{getValue:i}=e;return(0,ce.jsx)(j.A,{variant:"subtitle1",children:i()})}},{header:"Gi\u1edbi t\xednh",accessorKey:"driverIdentity.driverGender",meta:{className:"cell-right"}},{header:"Th\xe0nh ph\u1ed1",accessorKey:"country"},{header:"Tr\u1ea1ng th\xe1i",accessorKey:"accountStatus",cell:e=>{switch(e.getValue()){case!1:return(0,ce.jsx)(f.A,{color:"warning",label:"Ch\u01b0a x\xe1c th\u1ef1c",size:"small",variant:"light"});case!0:return(0,ce.jsx)(f.A,{color:"success",label:"X\xe1c th\u1ef1c",size:"small",variant:"light"});default:return(0,ce.jsx)(f.A,{color:"info",label:"\u0110ang x\u1eed l\xfd",size:"small",variant:"light"})}}},{header:"H\xe0nh \u0111\u1ed9ng",meta:{className:"cell-center"},disableSortBy:!0,cell:i=>{let{row:l}=i;const n=l.getCanExpand()&&l.getIsExpanded()?(0,ce.jsx)($e.A,{style:{color:e.palette.error.main,transform:"rotate(45deg)"}}):(0,ce.jsx)(Ge.A,{});return(0,ce.jsxs)(a.A,{direction:"row",alignItems:"center",justifyContent:"center",spacing:0,children:[(0,ce.jsx)(I.A,{title:"View",children:(0,ce.jsx)(V.A,{color:"secondary",onClick:l.getToggleExpandedHandler(),children:n})}),(0,ce.jsx)(I.A,{title:"View Schedules",children:(0,ce.jsx)(V.A,{color:"primary",onClick:e=>{e.stopPropagation(),$(l.original.accountId),W(!0)},children:(0,ce.jsx)(Je.A,{})})}),(0,ce.jsx)(I.A,{title:"Edit",children:(0,ce.jsx)(V.A,{color:"primary",onClick:e=>{e.stopPropagation(),E(l.original),w(!0)},children:(0,ce.jsx)(Ye.A,{})})}),(0,ce.jsx)(I.A,{title:"Delete",children:(0,ce.jsx)(V.A,{color:"error",onClick:e=>{e.stopPropagation(),G(),z(l.original.id)},children:(0,ce.jsx)(Ke.A,{})})}),(0,ce.jsx)(I.A,{title:"Driver ID",children:(0,ce.jsx)(V.A,{color:"primary",onClick:e=>{var i;e.stopPropagation(),i=l.original,E(i),P(!0),g(i.driverIdentity.driverIdentificationId)},children:(0,ce.jsx)(_e.A,{})})}),(0,ce.jsx)(I.A,{title:"License",children:(0,ce.jsx)(V.A,{color:"primary",onClick:e=>{var i;e.stopPropagation(),i=l.original,E(i),H(!0),y(i.license.licenseId)},children:(0,ce.jsx)(qe.A,{})})}),(0,ce.jsx)(I.A,{title:"Vehicle",children:(0,ce.jsx)(V.A,{color:"primary",onClick:e=>{e.stopPropagation(),(e=>{var i;E(e),B(!0);const l=(null===(i=e.vehicles)||void 0===i?void 0:i.map((e=>e.vehicleId)))||[];C(l),console.log("vehicleIds:",l)})(l.original)},children:(0,ce.jsx)(Je.A,{})})})]})}}]),[e]);return h?(0,ce.jsx)(D.default,{}):(0,ce.jsxs)(ce.Fragment,{children:[(0,ce.jsx)(hi,{data:x,columns:J,modalToggler:()=>{w(!0),E(null)}}),(0,ce.jsx)(de,{id:T,title:T,open:v,handleClose:G}),(0,ce.jsx)(fe,{open:S,modalToggler:w,driver:k}),(0,ce.jsx)(Ze,{open:F,modalToggler:P,driver:k,refetchDrivers:u,driverIdentificationId:A}),(0,ce.jsx)(Me,{open:L,modalToggler:H,driver:k,refetchDrivers:u,licenseId:p}),(0,ce.jsx)(ai,{open:R,modalToggler:B,driver:k,refetchDrivers:u,vehicleIds:b}),(0,ce.jsx)(xi,{open:O,onClose:()=>W(!1),accountId:K})]})}}}]);