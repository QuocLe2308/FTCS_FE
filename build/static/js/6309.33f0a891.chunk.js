"use strict";(self.webpackChunkmantis_material_react=self.webpackChunkmantis_material_react||[]).push([[6309],{46309:(e,n,s)=>{s.r(n),s.d(n,{default:()=>Ke});var r=s(9950),t=s(59254),i=s(14857),o=s(46589),a=s(16491),l=s(60899),c=s(93230),d=s(86817),x=s(23266),h=s(82053),j=s(8145),p=s(1849),A=s(39325),u=s(33738),m=s(96583),g=s(14758),y=s(249),v=s(26050),b=s(38614),f=s(82917),w=s(83563),C=s(28810),k=s(30767),S=s(5946),z=s(62586),M=s(44414);const I=e=>{let{status:n}=e;const s=(0,i.A)();switch(n){case"available":return(0,M.jsx)(k.A,{style:{color:s.palette.success.main}});case"do_not_disturb":return(0,M.jsx)(S.A,{style:{color:s.palette.secondary.main}});case"offline":return(0,M.jsx)(z.A,{style:{color:s.palette.warning.main}});default:return null}};var R=s(46007);const O=s(40630),_=e=>{let{user:n}=e;return(0,M.jsx)(C.A,{overlap:"circular",badgeContent:(0,M.jsx)(I,{status:n.online_status}),anchorOrigin:{vertical:"top",horizontal:"right"},sx:{"& .MuiBox-root":{width:6,height:6},padding:0,minWidth:12,"& svg":{background:"#fff",borderRadius:"50%"}},children:(0,M.jsx)(R.A,{alt:n.name,src:n.avatar&&O(`./${n.avatar}`)})})};var D=s(86263),L=s(96185),E=s(29205);const F=e=>{let{loading:n,user:s,openChatDrawer:r,handleDrawerOpen:t}=e;return(0,M.jsxs)(c.A,{direction:"row",alignItems:"center",spacing:1,children:[(0,M.jsx)(D.A,{onClick:t,color:"secondary",size:"large",children:r?(0,M.jsx)(L.A,{}):(0,M.jsx)(E.A,{})}),n&&0===Object.keys(s).length?(0,M.jsx)(y.A,{disablePadding:!0,children:(0,M.jsxs)(v.Ay,{disablePadding:!0,disableGutters:!0,children:[(0,M.jsx)(b.A,{children:(0,M.jsx)(f.A,{variant:"circular",width:40,height:40})}),(0,M.jsx)(w.A,{sx:{my:0},primary:(0,M.jsx)(f.A,{animation:"wave",height:24,width:50}),secondary:(0,M.jsx)(f.A,{animation:"wave",height:16,width:80})})]})}):(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)(_,{user:{online_status:s.online_status,avatar:s.avatar,name:s.name}}),(0,M.jsxs)(c.A,{children:[(0,M.jsx)(h.A,{variant:"subtitle1",children:s.name}),(0,M.jsxs)(h.A,{variant:"caption",color:"textSecondary",children:["Active ",s.lastMessage," ago"]})]})]})]})};var B=s(42074),U=s(71525),P=s(25277),T=s(2660),$=s(2046),G=s(57357),W=s(14195),K=s(9163),V=s(2459),N=s(69572),H=s(97108);const X={key:"api/chat",list:"/users",update:"/filter"};function q(){const{data:e,isLoading:n,error:s,isValidating:t}=(0,N.Ay)(X.key+X.list,H.GO,{revalidateIfStale:!1,revalidateOnFocus:!1,revalidateOnReconnect:!1});return(0,r.useMemo)((()=>{var r;return{users:null===e||void 0===e?void 0:e.users,usersLoading:n,usersError:s,usersValidating:t,usersEmpty:!n&&!(null!==e&&void 0!==e&&null!==(r=e.users)&&void 0!==r&&r.length)}}),[e,s,n,t])}var Y=s(13239);const J=new K.Chance;const Q=function(e){let{setUser:n,search:s,selectedUser:t}=e;const o=(0,i.A)(),[a,l]=(0,r.useState)([]),{usersLoading:d,users:x}=q();return(0,r.useEffect)((()=>{if(!d){let e=x;s&&(e=x.filter((e=>{let n=!0;let r=!1;return["name"].forEach((n=>{e[n].toString().toLowerCase().includes(s.toString().toLowerCase())&&(r=!0)})),r||(n=!1),n}))),l(e)}}),[d,s]),d?(0,M.jsx)(y.A,{children:[1,2,3,4,5].map((e=>(0,M.jsxs)(v.Ay,{divider:!0,children:[(0,M.jsx)(b.A,{children:(0,M.jsx)(f.A,{variant:"circular",width:40,height:40})}),(0,M.jsx)(w.A,{primary:(0,M.jsx)(f.A,{animation:"wave",height:24}),secondary:(0,M.jsx)(f.A,{animation:"wave",height:16,width:"60%"})})]},e)))}):(0,M.jsx)(y.A,{component:"nav",children:a.map((e=>(0,M.jsx)(r.Fragment,{children:(0,M.jsxs)(G.A,{sx:{pl:1},onClick:()=>{n(e)},divider:!0,selected:e.id===t,children:[(0,M.jsx)(b.A,{children:(0,M.jsx)(_,{user:e})}),(0,M.jsx)(w.A,{primary:(0,M.jsxs)(c.A,{component:"span",direction:"row",alignItems:"center",justifyContent:"space-between",spacing:1,children:[(0,M.jsx)(h.A,{variant:"h5",color:"text.primary",sx:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:e.name}),(0,M.jsx)(h.A,{component:"span",color:"textSecondary",variant:"caption",children:e.lastMessage})]}),secondary:(0,M.jsxs)(h.A,{variant:"caption",color:"textSecondary",sx:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,M.jsx)(M.Fragment,{children:e.status}),(0,M.jsx)(M.Fragment,{children:e.unReadChatCount?(0,M.jsx)(V.A,{color:"primary"}):(0,M.jsx)(Y.A,{style:{color:J.bool()?o.palette.grey[400]:o.palette.primary.main}})})]})})]})},e.id)))})};var Z=s(44967),ee=s(41492),ne=s(16243),se=s(33507),re=s(60767),te=s(31170),ie=s(66276),oe=s(79843);const ae=function(e){let{handleDrawerOpen:n,openChatDrawer:s,setUser:t,selectedUser:j}=e;const p=(0,i.A)(),{user:A}=(0,se.A)(),u=(0,o.A)(p.breakpoints.down("lg")),m=p.palette.mode===ne.lG.DARK?"dark.main":"white",[g,v]=(0,r.useState)(),b=()=>{v(null)},[f,C]=(0,r.useState)("available"),I=e=>()=>{C(e),b()},[R,O]=(0,r.useState)("");return(0,M.jsx)(U.Ay,{sx:{width:320,flexShrink:0,zIndex:{xs:1100,lg:0},"& .MuiDrawer-paper":{height:u?"100%":"auto",width:320,boxSizing:"border-box",position:"relative",border:"none"}},variant:u?"temporary":"persistent",anchor:"left",open:s,ModalProps:{keepMounted:!0},onClose:n,children:(0,M.jsxs)(Z.A,{sx:{bgcolor:u?"transparent":m,borderRadius:"4px 0 0 4px",borderRight:"none"},border:!u,content:!1,children:[(0,M.jsx)(a.A,{sx:{p:3,pb:1},children:(0,M.jsxs)(c.A,{spacing:2,children:[(0,M.jsxs)(c.A,{direction:"row",spacing:.5,alignItems:"center",children:[(0,M.jsx)(h.A,{variant:"h5",color:"inherit",children:"Messages"}),(0,M.jsx)(P.A,{label:"9",component:"span",color:"secondary",sx:{width:20,height:20,borderRadius:"50%","& .MuiChip-label":{px:.5}}})]}),(0,M.jsx)(T.A,{fullWidth:!0,id:"input-search-header",placeholder:"Search",value:R,onChange:async e=>{const n=null===e||void 0===e?void 0:e.target.value;O(n)},sx:{"& .MuiOutlinedInput-input":{p:"10.5px 0px 12px"}},startAdornment:(0,M.jsx)($.A,{position:"start",children:(0,M.jsx)(re.A,{style:{fontSize:"small"}})})})]})}),(0,M.jsx)(ee.A,{sx:{overflowX:"hidden",height:u?"calc(100vh - 354px)":"calc(100vh - 428px)",minHeight:u?0:420},children:(0,M.jsx)(a.A,{sx:{p:3,pt:0},children:(0,M.jsx)(Q,{setUser:t,search:R,selectedUser:j})})}),(0,M.jsx)(a.A,{sx:{p:3,py:0},children:(0,M.jsxs)(y.A,{component:"nav",children:[(0,M.jsxs)(G.A,{divider:!0,children:[(0,M.jsx)(W.A,{children:(0,M.jsx)(te.A,{})}),(0,M.jsx)(w.A,{primary:"LogOut"})]}),(0,M.jsxs)(G.A,{divider:!0,children:[(0,M.jsx)(W.A,{children:(0,M.jsx)(ie.A,{})}),(0,M.jsx)(w.A,{primary:"Settings"})]})]})}),(0,M.jsx)(a.A,{sx:{p:3,pt:1,pl:5},children:(0,M.jsx)(l.Ay,{container:!0,children:(0,M.jsx)(l.Ay,{item:!0,xs:12,children:(0,M.jsxs)(l.Ay,{container:!0,spacing:1,alignItems:"center",sx:{flexWrap:"nowrap"},children:[(0,M.jsx)(l.Ay,{item:!0,children:(0,M.jsx)(_,{user:{online_status:f,avatar:"avatar-1.png",name:"User 1"}})}),(0,M.jsx)(l.Ay,{item:!0,xs:!0,zeroMinWidth:!0,children:(0,M.jsxs)(c.A,{sx:{cursor:"pointer",textDecoration:"none"},component:B.N_,to:"/apps/profiles/user/personal",children:[(0,M.jsx)(h.A,{align:"left",variant:"h5",color:"textPrimary",children:null===A||void 0===A?void 0:A.name}),(0,M.jsx)(h.A,{align:"left",variant:"caption",color:"textSecondary",children:null===A||void 0===A?void 0:A.role})]})}),(0,M.jsxs)(l.Ay,{item:!0,children:[(0,M.jsx)(D.A,{onClick:e=>{v(null===e||void 0===e?void 0:e.currentTarget)},size:"small",color:"secondary",children:(0,M.jsx)(oe.A,{})}),(0,M.jsxs)(d.A,{id:"simple-menu",anchorEl:g,keepMounted:!0,open:Boolean(g),onClose:b,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"bottom",horizontal:"right"},sx:{"& .MuiMenu-list":{p:0},"& .MuiMenuItem-root":{pl:"6px",py:"3px"}},children:[(0,M.jsxs)(x.A,{onClick:I("available"),children:[(0,M.jsx)(D.A,{size:"small",sx:{color:p.palette.success.main,"&:hover":{color:p.palette.success.main,bgcolor:"transparent",transition:"none",padding:0}},children:(0,M.jsx)(k.A,{})}),(0,M.jsx)(h.A,{children:"Active"})]}),(0,M.jsxs)(x.A,{onClick:I("offline"),children:[(0,M.jsx)(D.A,{size:"small",sx:{color:p.palette.error.main,"&:hover":{color:p.palette.error.main,bgcolor:"transparent",transition:"none",padding:0}},children:(0,M.jsx)(z.A,{})}),(0,M.jsx)(h.A,{children:"Away"})]}),(0,M.jsxs)(x.A,{onClick:I("do_not_disturb"),children:[(0,M.jsx)(D.A,{size:"small",sx:{color:p.palette.grey[400],"&:hover":{color:p.palette.grey[400],bgcolor:"transparent",transition:"none",padding:0}},children:(0,M.jsx)(S.A,{})}),(0,M.jsx)(h.A,{children:"Do not disturb"})]})]})]})]})})})})]})})};var le=s(48089),ce=s(50704),de=s(72906),xe=s(11894),he=s(22014),je=s(67376),pe=s(44070);const Ae=e=>{let{index:n}=e;const[s,t]=(0,r.useState)(null),i=Boolean(s);return(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)(D.A,{id:`chat-action-button-${n}`,"aria-controls":i?`chat-action-menu-${n}`:void 0,"aria-haspopup":"true","aria-expanded":i?"true":void 0,onClick:e=>{t(null===e||void 0===e?void 0:e.currentTarget)},size:"small",color:"secondary",children:(0,M.jsx)(de.A,{})}),(0,M.jsxs)(d.A,{id:`chat-action-menu-${n}`,anchorEl:s,keepMounted:!0,open:i,onClose:()=>{t(null)},anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},MenuListProps:{"aria-labelledby":`chat-action-button-${n}`},sx:{p:0,"& .MuiMenu-list":{p:0}},children:[(0,M.jsxs)(x.A,{children:[(0,M.jsx)(xe.A,{style:{paddingRight:8}}),(0,M.jsx)(h.A,{children:"Reply"})]}),(0,M.jsxs)(x.A,{children:[(0,M.jsx)(he.A,{style:{paddingRight:8}}),(0,M.jsx)(h.A,{children:"Forward"})]}),(0,M.jsxs)(x.A,{children:[(0,M.jsx)(je.A,{style:{paddingRight:8}}),(0,M.jsx)(h.A,{children:"Copy"})]}),(0,M.jsxs)(x.A,{children:[(0,M.jsx)(pe.A,{style:{paddingRight:8,paddingLeft:0}}),(0,M.jsx)(h.A,{children:"Delete"})]})]})]})};var ue=s(65182),me=s(24513);const ge=e=>{let{theme:n,user:s}=e;const t=(0,r.useRef)(null),{chat:i,chatLoading:o}=function(e){const n=[X.key+X.update,{user:e,endpoints:"chat"}],{data:s,isLoading:t,error:i,isValidating:o}=(0,N.Ay)(n,H.Cl,{revalidateIfStale:!1,revalidateOnFocus:!1,revalidateOnReconnect:!1});return(0,r.useMemo)((()=>({chat:s||[],chatLoading:t,chatError:i,chatValidating:o,chatEmpty:!t&&!(null!==s&&void 0!==s&&s.length)})),[s,i,t,o])}(s.name);return(0,r.useEffect)((()=>{var e;null===(e=t.current)||void 0===e||e.scrollIntoView({behavior:"smooth",block:"end"})}),[i]),o?(0,M.jsx)(c.A,{alignItems:"center",justifyContent:"center",sx:{height:"100%"},children:(0,M.jsx)(ue.A,{})}):(0,M.jsxs)(l.Ay,{container:!0,spacing:2.5,children:[i.map(((e,r)=>(0,M.jsx)(l.Ay,{item:!0,xs:12,children:e.from!==s.name?(0,M.jsxs)(c.A,{spacing:1.25,direction:"row",alignItems:"flex-start",children:[(0,M.jsxs)(l.Ay,{container:!0,justifyContent:"flex-end",children:[(0,M.jsx)(l.Ay,{item:!0,xs:2,md:3,xl:4}),(0,M.jsx)(l.Ay,{item:!0,xs:10,md:9,xl:8,children:(0,M.jsxs)(c.A,{direction:"row",justifyContent:"flex-end",alignItems:"flex-start",children:[(0,M.jsx)(Ae,{index:r}),(0,M.jsx)(D.A,{size:"small",color:"secondary",children:(0,M.jsx)(me.A,{})}),(0,M.jsx)(le.A,{sx:{display:"inline-block",float:"right",bgcolor:n.palette.primary.main,boxShadow:"none",ml:1},children:(0,M.jsx)(ce.A,{sx:{p:1,pb:"8px !important",width:"fit-content",ml:"auto"},children:(0,M.jsx)(l.Ay,{container:!0,spacing:1,children:(0,M.jsx)(l.Ay,{item:!0,xs:12,children:(0,M.jsx)(h.A,{variant:"h6",color:n.palette.grey[0],sx:{overflowWrap:"anywhere"},children:e.text})})})})})]})}),(0,M.jsx)(l.Ay,{item:!0,xs:12,children:(0,M.jsx)(h.A,{align:"right",variant:"subtitle2",color:"textSecondary",children:e.time})})]}),(0,M.jsx)(_,{user:{online_status:"available",avatar:"avatar-1.png",name:"User 1"}})]}):(0,M.jsxs)(c.A,{direction:"row",spacing:1.25,alignItems:"flex-start",children:[(0,M.jsx)(_,{user:{online_status:s.online_status,avatar:s.avatar,name:s.name}}),(0,M.jsxs)(l.Ay,{container:!0,children:[(0,M.jsx)(l.Ay,{item:!0,xs:12,sm:7,children:(0,M.jsx)(le.A,{sx:{display:"inline-block",float:"left",bgcolor:n.palette.mode===ne.lG.DARK?"background.background":"grey.0",boxShadow:"none"},children:(0,M.jsx)(ce.A,{sx:{p:1,pb:"8px !important"},children:(0,M.jsx)(l.Ay,{container:!0,spacing:1,children:(0,M.jsx)(l.Ay,{item:!0,xs:12,children:(0,M.jsx)(h.A,{variant:"h6",color:"textPrimary",sx:{overflowWrap:"anywhere"},children:e.text})})})})})}),(0,M.jsx)(l.Ay,{item:!0,xs:12,sx:{mt:1},children:(0,M.jsx)(h.A,{align:"left",variant:"subtitle2",color:"textSecondary",children:e.time})})]})]})},r))),(0,M.jsx)(l.Ay,{item:!0,ref:t})]})};var ye=s(74745),ve=s(37324),be=s(94118),fe=s(39060),we=s(9845),Ce=s(50947),ke=s(20265),Se=s(26142),ze=s(94889),Me=s(92049),Ie=s(25928),Re=s(15790);const Oe=s(40630),_e=e=>{let{user:n,onClose:s}=e;const t=(0,i.A)(),d=(0,o.A)(t.breakpoints.down("md")),[x,j]=(0,r.useState)(!0);if(0===Object.keys(n).length)return(0,M.jsx)(h.A,{children:"...Loading"});let p,A;return"available"===n.online_status?(p=t.palette.success.lighter,A=t.palette.success.main):"do_not_disturb"===n.online_status?(p=t.palette.grey.A100,A=t.palette.grey.A200):(p=t.palette.warning.lighter,A=t.palette.warning.main),(0,M.jsxs)(Z.A,{sx:{bgcolor:t.palette.mode===ne.lG.DARK?"dark.main":"grey.0",borderRadius:"0 4px 4px 0",borderLeft:"none"},content:!1,children:[(0,M.jsxs)(a.A,{sx:{p:3},children:[s&&(0,M.jsx)(D.A,{size:"small",sx:{position:"absolute",right:8,top:8},onClick:s,color:"error",children:(0,M.jsx)(be.A,{})}),(0,M.jsxs)(l.Ay,{container:!0,spacing:1,justifyContent:"center",children:[(0,M.jsx)(l.Ay,{item:!0,xs:12,children:(0,M.jsxs)(c.A,{children:[(0,M.jsx)(R.A,{alt:n.name,src:n.avatar&&Oe(`./${n.avatar}`),size:"xl",sx:{m:"8px auto",width:88,height:88,border:"1px solid",borderColor:t.palette.primary.main,p:1,bgcolor:"transparent","& .MuiAvatar-img ":{height:"88px",width:"88px",borderRadius:"50%"}}}),(0,M.jsx)(h.A,{variant:"h5",align:"center",component:"div",children:n.name}),(0,M.jsx)(h.A,{variant:"body2",align:"center",color:"textSecondary",children:n.role})]})}),(0,M.jsx)(l.Ay,{item:!0,xs:12,children:(0,M.jsxs)(c.A,{direction:"row",alignItems:"center",spacing:1,justifyContent:"center",sx:{mt:.75,"& .MuiChip-root":{height:"24px"}},children:[(0,M.jsx)(I,{status:null===n||void 0===n?void 0:n.online_status}),(0,M.jsx)(P.A,{label:null===n||void 0===n?void 0:n.online_status.replaceAll("_"," "),sx:{bgcolor:p,textTransform:"capitalize",color:A,"& .MuiChip-label":{px:1}}})]})})]}),(0,M.jsxs)(c.A,{direction:"row",spacing:2,justifyContent:"center",sx:{mt:3},children:[(0,M.jsx)(D.A,{size:"medium",color:"secondary",sx:{boxShadow:"0px 8px 25px rgba(0, 0, 0, 0.05)"},children:(0,M.jsx)(fe.A,{})}),(0,M.jsx)(D.A,{size:"medium",color:"secondary",sx:{boxShadow:"0px 8px 25px rgba(0, 0, 0, 0.05)"},children:(0,M.jsx)(we.A,{})}),(0,M.jsx)(D.A,{size:"medium",color:"secondary",sx:{boxShadow:"0px 8px 25px rgba(0, 0, 0, 0.05)"},children:(0,M.jsx)(Ce.A,{})})]})]}),(0,M.jsx)(a.A,{children:(0,M.jsx)(ee.A,{sx:{overflowX:"hidden",height:d?"auto":"calc(100vh - 397px)",minHeight:d?0:420},children:(0,M.jsxs)(c.A,{spacing:3,children:[(0,M.jsxs)(c.A,{direction:"row",spacing:1.5,justifyContent:"center",sx:{px:3},children:[(0,M.jsxs)(a.A,{sx:{bgcolor:"primary.lighter",p:2,width:"50%",borderRadius:2},children:[(0,M.jsx)(h.A,{color:"primary",children:"All File"}),(0,M.jsxs)(c.A,{direction:"row",alignItems:"center",spacing:1,sx:{mt:.5},children:[(0,M.jsx)(ke.A,{style:{color:t.palette.primary.main,fontSize:"1.15em"}}),(0,M.jsx)(h.A,{variant:"h4",children:"231"})]})]}),(0,M.jsxs)(a.A,{sx:{bgcolor:"secondary.lighter",p:2,width:"50%",borderRadius:2},children:[(0,M.jsx)(h.A,{children:"All Link"}),(0,M.jsxs)(c.A,{direction:"row",alignItems:"center",spacing:1,sx:{mt:.5},children:[(0,M.jsx)(Se.A,{style:{fontSize:"1.15em"}}),(0,M.jsx)(h.A,{variant:"h4",children:"231"})]})]})]}),(0,M.jsx)(a.A,{sx:{px:3,pb:3},children:(0,M.jsxs)(l.Ay,{container:!0,spacing:2,children:[(0,M.jsx)(l.Ay,{item:!0,xs:12,children:(0,M.jsxs)(c.A,{direction:"row",alignItems:"center",justifyContent:"space-between",sx:{cursor:"pointer"},onClick:()=>j(!x),children:[(0,M.jsx)(h.A,{variant:"h5",component:"div",children:"Information"}),(0,M.jsx)(D.A,{size:"small",color:"secondary",children:(0,M.jsx)(ze.A,{})})]})}),(0,M.jsx)(l.Ay,{item:!0,xs:12,sx:{mt:-1},children:(0,M.jsx)(ye.A,{})}),(0,M.jsx)(l.Ay,{item:!0,xs:12,children:(0,M.jsxs)(u.A,{in:x,children:[(0,M.jsxs)(c.A,{direction:"row",justifyContent:"space-between",sx:{mt:1,mb:2},children:[(0,M.jsx)(h.A,{children:"Address"}),(0,M.jsx)(h.A,{color:"textSecondary",children:n.location})]}),(0,M.jsxs)(c.A,{direction:"row",justifyContent:"space-between",sx:{mt:2},children:[(0,M.jsx)(h.A,{children:"Email"}),(0,M.jsx)(h.A,{color:"textSecondary",children:n.personal_email})]}),(0,M.jsxs)(c.A,{direction:"row",justifyContent:"space-between",sx:{mt:2},children:[(0,M.jsx)(h.A,{children:"Phone"}),(0,M.jsx)(h.A,{color:"textSecondary",children:n.personal_phone})]}),(0,M.jsxs)(c.A,{direction:"row",justifyContent:"space-between",sx:{mt:2,mb:2},children:[(0,M.jsx)(h.A,{children:"Last visited"}),(0,M.jsx)(h.A,{color:"textSecondary",children:n.lastMessage})]})]})}),(0,M.jsx)(l.Ay,{item:!0,xs:12,children:(0,M.jsxs)(c.A,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[(0,M.jsx)(h.A,{variant:"h5",children:"Notification"}),(0,M.jsx)(ve.A,{defaultChecked:!0})]})}),(0,M.jsx)(l.Ay,{item:!0,xs:12,sx:{mt:-1},children:(0,M.jsx)(ye.A,{})}),(0,M.jsx)(l.Ay,{item:!0,xs:12,sx:{mt:-1},children:(0,M.jsxs)(c.A,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[(0,M.jsx)(h.A,{variant:"h5",children:"File type"}),(0,M.jsx)(D.A,{size:"medium",color:"secondary",children:(0,M.jsx)(de.A,{})})]})}),(0,M.jsx)(l.Ay,{item:!0,xs:12,sx:{mt:-1},children:(0,M.jsx)(ye.A,{})}),(0,M.jsx)(l.Ay,{item:!0,xs:12,children:(0,M.jsxs)(c.A,{direction:"row",justifyContent:"space-between",alignItems:"center",children:[(0,M.jsxs)(c.A,{direction:"row",alignItems:"center",spacing:1.5,children:[(0,M.jsx)(R.A,{sx:{color:t.palette.success.dark,bgcolor:t.palette.success.light,borderRadius:1},children:(0,M.jsx)(Me.A,{})}),(0,M.jsxs)(c.A,{children:[(0,M.jsx)(h.A,{children:"Document"}),(0,M.jsx)(h.A,{color:"textSecondary",children:"123 files, 193MB"})]})]}),(0,M.jsx)(D.A,{size:"small",color:"secondary",children:(0,M.jsx)(oe.A,{})})]})}),(0,M.jsx)(l.Ay,{item:!0,xs:12,children:(0,M.jsxs)(c.A,{direction:"row",justifyContent:"space-between",alignItems:"center",children:[(0,M.jsxs)(c.A,{direction:"row",alignItems:"center",spacing:1.5,children:[(0,M.jsx)(R.A,{sx:{color:t.palette.warning.main,bgcolor:t.palette.warning.lighter,borderRadius:1},children:(0,M.jsx)(Ie.A,{})}),(0,M.jsxs)(c.A,{children:[(0,M.jsx)(h.A,{children:"Photos"}),(0,M.jsx)(h.A,{color:"textSecondary",children:"53 files, 321MB"})]})]}),(0,M.jsx)(D.A,{size:"small",color:"secondary",children:(0,M.jsx)(oe.A,{})})]})}),(0,M.jsx)(l.Ay,{item:!0,xs:12,children:(0,M.jsxs)(c.A,{direction:"row",justifyContent:"space-between",alignItems:"center",children:[(0,M.jsxs)(c.A,{direction:"row",alignItems:"center",spacing:1.5,children:[(0,M.jsx)(R.A,{sx:{color:t.palette.primary.main,bgcolor:t.palette.primary.lighter,borderRadius:1},children:(0,M.jsx)(Re.A,{})}),(0,M.jsxs)(c.A,{children:[(0,M.jsx)(h.A,{children:"Other"}),(0,M.jsx)(h.A,{color:"textSecondary",children:"49 files, 193MB"})]})]}),(0,M.jsx)(D.A,{size:"small",color:"secondary",children:(0,M.jsx)(oe.A,{})})]})})]})})]})})})]})};var De=s(37476),Le=s(91807),Ee=s(56921),Fe=s(82278),Be=s(98114),Ue=s(9090),Pe=s(13918),Te=s(43858),$e=s(73965),Ge=s(87210);const We=(0,t.Ay)("main",{shouldForwardProp:e=>"open"!==e})((e=>{let{theme:n,open:s}=e;return{flexGrow:1,transition:n.transitions.create("margin",{easing:n.transitions.easing.sharp,duration:n.transitions.duration.shorter}),marginLeft:"-320px",[n.breakpoints.down("lg")]:{paddingLeft:0,marginLeft:0},...s&&{width:"calc(100% - 320px)",transition:n.transitions.create("margin",{easing:n.transitions.easing.easeOut,duration:n.transitions.duration.shorter}),marginLeft:0}}})),Ke=()=>{const e=(0,i.A)(),{usersLoading:n,users:s}=q(),t=(0,o.A)(e.breakpoints.down("lg")),y=(0,o.A)(e.breakpoints.down("md")),[v,b]=(0,r.useState)(!1),[f,w]=(0,r.useState)({}),[C,k]=(0,r.useState)(null);(0,r.useEffect)((()=>{if(!n){const e=s.filter((e=>{var n;return"2"===(null===(n=e.id)||void 0===n?void 0:n.toString())}))[0];w(e)}}),[n]);const S=()=>{k(null)},z=()=>{b((e=>!e))},[I,R]=(0,r.useState)(!0),O=()=>{R((e=>!e))},[_,L]=(0,r.useState)(),[E,B]=(0,r.useState)(""),U=(0,r.useRef)(null),P=()=>{if(""===E.trim())(0,Le.aN)({open:!0,message:"Message required",variant:"alert",alert:{color:"error"}});else{const e=new Date,n={id:Number((0,Ee.A)(s.length)),from:"User1",to:f.name,text:E,time:e.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})};!async function(e,n){const s=[X.key+X.update,{user:e,endpoints:"chat"}];(0,N.Tk)(s,(e=>[...e,n]),!1)}(f.name,n)}B("")},T=Boolean(_),$=T?"simple-popper":void 0;return(0,r.useEffect)((()=>{R(!t)}),[t]),(0,M.jsxs)(a.A,{sx:{display:"flex"},children:[(0,M.jsx)(ae,{openChatDrawer:I,handleDrawerOpen:O,setUser:w,selectedUser:n||0===Object.keys(f).length?null:f.id}),(0,M.jsx)(We,{theme:e,open:I,children:(0,M.jsxs)(l.Ay,{container:!0,children:[(0,M.jsx)(l.Ay,{item:!0,xs:12,md:v?8:12,xl:v?9:12,sx:{transition:e.transitions.create("width",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.shorter+200})},children:(0,M.jsx)(Z.A,{content:!1,sx:{bgcolor:e.palette.mode===ne.lG.DARK?"dark.main":"grey.50",pt:2,pl:2,borderRadius:v?"0":"0 4px 4px 0",transition:e.transitions.create("width",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.shorter+200})},children:(0,M.jsxs)(l.Ay,{container:!0,spacing:3,children:[(0,M.jsx)(l.Ay,{item:!0,xs:12,sx:{bgcolor:e.palette.background.paper,pr:2,pb:2,borderBottom:`1px solid ${e.palette.divider}`},children:(0,M.jsxs)(l.Ay,{container:!0,justifyContent:"space-between",spacing:1.5,children:[(0,M.jsx)(l.Ay,{item:!0,children:(0,M.jsx)(F,{loading:n,user:f,openChatDrawer:I,handleDrawerOpen:O})}),(0,M.jsx)(l.Ay,{item:!0,children:(0,M.jsxs)(c.A,{direction:"row",alignItems:"center",justifyContent:"flex-end",spacing:1,children:[(0,M.jsx)(D.A,{size:"large",color:"secondary",children:(0,M.jsx)(fe.A,{})}),(0,M.jsx)(D.A,{size:"large",color:"secondary",children:(0,M.jsx)(Ce.A,{})}),(0,M.jsx)(D.A,{onClick:z,size:"large",color:v?"error":"secondary",children:v?(0,M.jsx)(be.A,{}):(0,M.jsx)(Fe.A,{})}),(0,M.jsx)(D.A,{onClick:e=>{k(null===e||void 0===e?void 0:e.currentTarget)},size:"large",color:"secondary",children:(0,M.jsx)(de.A,{})}),(0,M.jsxs)(d.A,{id:"simple-menu",anchorEl:C,keepMounted:!0,open:Boolean(C),onClose:S,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},sx:{p:0,"& .MuiMenu-list":{p:0}},children:[(0,M.jsxs)(x.A,{onClick:S,children:[(0,M.jsx)(Be.A,{style:{paddingRight:8}}),(0,M.jsx)(h.A,{children:"Archive"})]}),(0,M.jsxs)(x.A,{onClick:S,children:[(0,M.jsx)(Ue.A,{style:{paddingRight:8}}),(0,M.jsx)(h.A,{children:"Muted"})]}),(0,M.jsxs)(x.A,{onClick:S,children:[(0,M.jsx)(pe.A,{style:{paddingRight:8}}),(0,M.jsx)(h.A,{children:"Delete"})]})]})]})})]})}),(0,M.jsx)(l.Ay,{item:!0,xs:12,children:(0,M.jsx)(ee.A,{sx:{overflowX:"hidden",height:"calc(100vh - 410px)",minHeight:420,"& .simplebar-content":{height:"100%"}},children:(0,M.jsx)(a.A,{sx:{pl:1,pr:3,height:"100%"},children:n||0===Object.keys(f).length?(0,M.jsx)(c.A,{alignItems:"center",justifyContent:"center",sx:{height:"100%"},children:(0,M.jsx)(ue.A,{})}):(0,M.jsx)(ge,{theme:e,user:f})})})}),(0,M.jsx)(l.Ay,{item:!0,xs:12,sx:{mt:3,bgcolor:e.palette.background.paper,borderTop:`1px solid ${e.palette.divider}`},children:(0,M.jsxs)(c.A,{children:[(0,M.jsx)(j.A,{inputRef:U,fullWidth:!0,multiline:!0,rows:4,placeholder:"Your Message...",value:E,onChange:e=>B(e.target.value.length<=1?e.target.value.trim():e.target.value),onKeyDown:e=>{"Enter"===(null===e||void 0===e?void 0:e.key)&&P()},variant:"standard",sx:{pr:2,"& .MuiInput-root:before":{borderBottomColor:e.palette.divider}}}),(0,M.jsxs)(c.A,{direction:"row",justifyContent:"space-between",alignItems:"center",children:[(0,M.jsxs)(c.A,{direction:"row",sx:{py:2,ml:-1},children:[(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)(D.A,{ref:_,"aria-describedby":$,onClick:e=>{L(_?null:null===e||void 0===e?void 0:e.currentTarget)},sx:{opacity:.5},size:"medium",color:"secondary",children:(0,M.jsx)(Pe.A,{})}),(0,M.jsx)(p.A,{id:$,open:T,anchorEl:_,disablePortal:!0,style:{zIndex:1200},popperOptions:{modifiers:[{name:"offset",options:{offset:[-20,125]}}]},children:(0,M.jsx)(A.x,{onClickAway:()=>{L(null)},children:(0,M.jsx)(Z.A,{elevation:8,content:!1,children:(0,M.jsx)(g.Ay,{onEmojiClick:e=>{B(E+e.emoji)},defaultSkinTone:g.B0.DARK,autoFocusSearch:!1})})})})]}),(0,M.jsx)(D.A,{sx:{opacity:.5},size:"medium",color:"secondary",children:(0,M.jsx)(Te.A,{})}),(0,M.jsx)(D.A,{sx:{opacity:.5},size:"medium",color:"secondary",children:(0,M.jsx)(Ie.A,{})}),(0,M.jsx)(D.A,{sx:{opacity:.5},size:"medium",color:"secondary",children:(0,M.jsx)($e.A,{})})]}),(0,M.jsx)(D.A,{color:"primary",onClick:P,size:"large",sx:{mr:1.5},children:(0,M.jsx)(Ge.A,{})})]})]})})]})})}),(0,M.jsx)(l.Ay,{item:!0,xs:12,md:4,xl:3,sx:{overflow:"hidden",display:v?"flex":"none"},children:(0,M.jsx)(u.A,{orientation:"horizontal",in:v&&!y,children:(0,M.jsx)(_e,{user:f,onClose:z})})}),(0,M.jsx)(m.A,{TransitionComponent:De.s,onClose:z,open:y&&v,scroll:"body",children:(0,M.jsx)(_e,{user:f,onClose:z})})]})})]})}},56921:(e,n,s)=>{s.d(n,{A:()=>r});const r=e=>{const n=e.toString();let s=null===n.match(/\d+/)?0:n.match(/\d+/)[0];const r=s.length;for(s=(parseInt(s)+1).toString();s.length<r;)s="0"+s;return n.replace(/[0-9]/g,"").concat(s)}}}]);